(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[110],{"F3+b":function(e,a,t){"use strict";var l=t("g09b"),n=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("T2oS");var d=l(t("W9HT"));t("5Dmo");var c=l(t("3S7+")),o=l(t("p0pE")),i=l(t("gWZ8")),u=l(t("2Taf")),s=l(t("vZ4D")),r=l(t("l4Ni")),m=l(t("ujKo")),f=l(t("MhPg"));t("y8nQ");var g,p,_,v,E=l(t("Vl3Y")),h=t("MuoO"),N=n(t("q1tI")),y=t("+n12"),b=t("wGLq"),L=l(t("hh8c")),w=l(t("t46H")),D=l(t("CkN6")),S=l(t("dBb5")),x=l(t("Ug63")),C=l(t("6y1p")),A=l(t("6WWT"));C.default.plugins.push(A.default);var T=(g=(0,h.connect)(function(e){var a=e.statistics,t=e.global;return{statistics:a,global:t}}),p=E.default.create(),g(_=p((v=function(e){function a(e){var t;return(0,u.default)(this,a),t=(0,r.default)(this,(0,m.default)(a).call(this,e)),t.resize=function(){t.setState({screenW:document.body.clientWidth})},t.initData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.setState({initLoading:!0});var a=t.props.dispatch,l=t.state,n=l.goodsSalesRankData,d=l.detailData,c=(l.realTimeData2,l.realTimeData1,{}),u=[],s=[],r=[];e&&(c.refresh=!0),a({type:"statistics/get_realtime_data",payload:c,callback:function(e){if(200==e.state){for(var a in d=e.data,n.list=e.data.goodsSaleAmountList,e.data.orderPayAmountList)u.push({month:e.data.orderPayAmountList[a].hour,city:"".concat((0,y.sldComLanguage)("\u652f\u4ed8\u91d1\u989d")),temperature:e.data.orderPayAmountList[a].amount}),u.push({month:e.data.orderSubmitAmountList[a].hour,city:"".concat((0,y.sldComLanguage)("\u4e0b\u5355\u91d1\u989d")),temperature:e.data.orderSubmitAmountList[a].amount});for(var l in e.data.viewNumList)r.push({month:e.data.visitorNumList[l].hour,city:"".concat((0,y.sldComLanguage)("\u5e97\u94fa\u8bbf\u5ba2\u6570")),temperature:e.data.visitorNumList[l].num}),r.push({month:e.data.viewNumList[l].hour,city:"".concat((0,y.sldComLanguage)("\u5e97\u94fa\u6d4f\u89c8\u91cf")),temperature:e.data.viewNumList[l].num});for(var c in e.data.newMemberNumList)s.push({month:e.data.newMemberNumList[c].hour,city:"".concat((0,y.sldComLanguage)("\u5e97\u94fa\u65b0\u589e\u7528\u6237\u6570")),temperature:e.data.newMemberNumList[c].num});var m=t.state,f=m.realTimeData1,g=m.realTimeData2,p=[].concat((0,i.default)(f.list),(0,i.default)(g.list));e.data.sellerSummary.orderPayAmountTotal=e.data.sellerSummary.orderPayAmount;var _=(0,o.default)({},e.data.sellerSummary,e.data.sellerTodaySummary);p.forEach(function(e,a){p[a]["value"]=_[e.mapKey]||0}),t.setState({goodsSalesRankData:n,detailData:d,orderSubmitAmountData:u,viewNumData:r,newMemberNumData:s,realTimeData2:g,realTimeData1:f})}t.setState({initLoading:!1,loadedFlag:!0})}})},t.handleTablePagination=function(e,a,l){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"main",d=t.state,c=d.detailData,o=d.goodsSalesRankData;if(void 0==l.field)return!1;"goods"==n&&(o.list="saleAmount"==l.field?c.goodsSaleAmountList:c.goodsSaleNumList),t.setState({goodsSalesRankData:o})},t.state={loadedFlag:!1,screenW:document.body.clientWidth,orderSubmitAmountData:[],newMemberNumData:[],viewNumData:[],initLoading:!1,detailData:{},goodsSalesColumns:[{title:"".concat((0,y.sldComLanguage)("\u5e8f\u53f7")),dataIndex:"goodsId",align:"center",width:35,render:function(e,a,t){return t+1}},{title:"".concat((0,y.sldComLanguage)("\u5546\u54c1\u540d\u79f0")),dataIndex:"goodsName",align:"center",width:100,render:function(e,a){return N.default.createElement("div",{className:"".concat(L.default.flex_row_start_center," ").concat(w.default.table_td_center_elliplis)},(0,y.getSldComImg)(a.goodsImage,200,200,25,25),N.default.createElement("span",{title:e},e))}},{title:"".concat((0,y.sldComLanguage)("\u9500\u552e\u989d")),dataIndex:"saleAmount",align:"center",width:100,sorter:!0,defaultSortOrder:"descend",sortDirections:["descend"],render:function(e){return"".concat((0,y.sldComLanguage)("\xa5")).concat(e.toFixed(2))}},{title:"".concat((0,y.sldComLanguage)("\u9500\u91cf")),dataIndex:"saleNum",align:"center",width:100,sorter:!0,sortDirections:["descend"]}],goodsSalesRankData:{list:[],pagination:{}},realTimeData1:(0,b.statRealTimeStoreData)(),realTimeData2:(0,b.statRealTimeTodayData)()},t}return(0,f.default)(a,e),(0,s.default)(a,[{key:"componentDidMount",value:function(){this.resize(),this.props.dispatch({type:"global/getLayoutCollapsed"}),window.addEventListener("resize",this.resize,{passive:!0}),this.initData()}},{key:"render",value:function(){var e=this,a=this.state,l=a.detailData,n=a.realTimeData2,o=a.realTimeData1,i=a.goodsSalesColumns,u=a.goodsSalesRankData,s=a.initLoading,r=a.orderSubmitAmountData,m=a.viewNumData,f=a.newMemberNumData,g=a.screenW,p=a.loadedFlag,_=void 0!=this.props.global&&void 0!=this.props.global.collapsed&&this.props.global.collapsed?90:150,v=(1*g-_-20-100-30-80)/5;return N.default.createElement("div",{className:"".concat(w.default.real_stat," ").concat(w.default.stat_part),style:{flex:1}},N.default.createElement(x.default,{autoHeight:!0,autoHeightMin:100,autoHeightMax:document.body.clientHeight-60},N.default.createElement(d.default,{spinning:s},N.default.createElement("div",{className:"".concat(w.default.module_item)},N.default.createElement("div",{className:"".concat(w.default.label_panel," ").concat(L.default.flex_row_start_center)},(0,y.sldLlineRtextAddMargin)("#FA6F1E","".concat((0,y.sldComLanguage)("\u5b9e\u65f6\u5206\u6790")),10,0,0),N.default.createElement(c.default,{placement:"right",title:"".concat((0,y.sldComLanguage)("\u4eca\u65e5\u5b9e\u65f6\u6570\u636e\u7684\u7edf\u8ba1\u65f6\u95f4\u5747\u4e3a\u4eca\u65e5\u96f6\u65f6\u622a\u81f3\u5f53\u524d\u66f4\u65b0\u65f6\u95f4\u3002\u70b9\u51fb\u6309\u94ae\u53ef\u5f3a\u5236\u5237\u65b0"))},N.default.createElement("img",{style:{display:"inline-block",marginLeft:"10px"},src:t("XWEe")})),N.default.createElement("div",{className:"".concat(w.default.update_time_panel," ").concat(L.default.flex_row_start_center)},N.default.createElement("span",null,(0,y.sldComLanguage)("\u66f4\u65b0\u65f6\u95f4\uff1a"),l.statsTime),N.default.createElement("i",{onClick:function(){return e.initData(!0)},className:"".concat(w.default.reload_icon)}))),N.default.createElement("div",{className:"".concat(w.default.real_num_panel)},N.default.createElement("div",{className:"".concat(w.default.num_stat_item," ").concat(L.default.flex_row_start_center)},N.default.createElement("div",{className:"".concat(w.default.left_slide," ").concat(L.default.flex_column_center_center)},N.default.createElement("img",{src:o.icon,className:"".concat(w.default.slide_icon)}),N.default.createElement("span",{className:"".concat(w.default.slide_title)},o.title)),N.default.createElement("div",{className:"".concat(w.default.right_main)},N.default.createElement("ul",{className:"".concat(L.default.flex_row_start_center)},o.list.map(function(e,a){return N.default.createElement("li",{key:a,className:"".concat(L.default.flex_column_center_start),style:{width:v}},N.default.createElement("div",{className:"".concat(w.default.up_desc)},N.default.createElement("span",null,e.name),e.isHelpIcon?N.default.createElement(c.default,{placement:"right",title:e.tip},N.default.createElement("img",{src:t("XWEe")})):""),N.default.createElement("div",{className:"".concat(w.default.down_num),title:e.value},N.default.createElement("span",null,p&&(e.value>1e4?(0,y.formatNum)(e.value,e.isMoney?2:0):N.default.createElement(C.default,{animation:{Children:{value:e.value,floatLength:e.isMoney?2:0,formatMoney:!0},duration:1e3}})))))})))),N.default.createElement("div",null,N.default.createElement("div",{className:"".concat(w.default.num_stat_item," ").concat(L.default.flex_row_start_start)},N.default.createElement("div",{className:"".concat(w.default.left_slide," ").concat(L.default.flex_column_center_center)},N.default.createElement("img",{src:n.icon,className:"".concat(w.default.slide_icon)}),N.default.createElement("span",{className:"".concat(w.default.slide_title)},n.title)),N.default.createElement("div",{className:"".concat(w.default.right_main)},N.default.createElement("ul",{style:{flexWrap:"wrap",marginTop:"20px"},className:"".concat(L.default.flex_row_start_center)},n.list.map(function(e,a){return e.isBr?N.default.createElement("li",{style:{height:"20px",width:"100%",backgroundColor:"#ffffff"}}):N.default.createElement("li",{className:"".concat(L.default.flex_column_center_start),style:{width:v}},N.default.createElement("div",{className:"".concat(w.default.up_desc)},N.default.createElement("span",null,e.name),e.isHelpIcon?N.default.createElement(c.default,{placement:"right",title:e.tip},N.default.createElement("img",{src:t("XWEe")})):""),N.default.createElement("div",{className:"".concat(w.default.down_num),title:e.value},N.default.createElement("span",null,p&&"pvSubmitRate"!=e.mapKey&&"pvPayRate"!=e.mapKey&&(e.value>1e4?(0,y.formatNum)(e.value,e.isMoney?2:0):N.default.createElement(C.default,{animation:{Children:{value:e.value,floatLength:e.isMoney?2:0,formatMoney:!0},duration:1e3}})),p&&("pvSubmitRate"==e.mapKey||"pvPayRate"==e.mapKey)&&N.default.createElement(N.Fragment,null,e.value))))}))))))),N.default.createElement("div",{style:{flexWrap:"wrap",backgroundColor:"#f0f2f5"},className:"".concat(L.default.flex_row_between_start)},N.default.createElement("div",{style:{margin:"10px 0"},className:"".concat(w.default.common_table_item)},N.default.createElement("div",{className:"".concat(w.default.label_panel)},(0,y.sldLlineRtextAddMargin)("#FA6F1E","".concat((0,y.sldComLanguage)("\u5206\u65f6\u6d41\u91cf\u8d8b\u52bf")),10,0,0)),N.default.createElement("div",{className:"".concat(w.default.table_main_overflow_hidden)},N.default.createElement(S.default,{data:m}))),N.default.createElement("div",{style:{margin:"10px 0"},className:"".concat(w.default.common_table_item)},N.default.createElement("div",{className:"".concat(w.default.label_panel)},(0,y.sldLlineRtextAddMargin)("#FA6F1E","".concat((0,y.sldComLanguage)("\u5206\u65f6\u65b0\u589e\u7528\u6237\u8d8b\u52bf")),10,0,0)),N.default.createElement("div",{className:"".concat(w.default.table_main_overflow_hidden)},N.default.createElement(S.default,{data:f}))),N.default.createElement("div",{className:"".concat(w.default.common_table_item)},N.default.createElement("div",{className:"".concat(w.default.label_panel)},(0,y.sldLlineRtextAddMargin)("#FA6F1E","".concat((0,y.sldComLanguage)("\u5206\u65f6\u652f\u4ed8/\u4e0b\u5355\u91d1\u989d\u8d8b\u52bf")),10,0,0)),N.default.createElement("div",{className:"".concat(w.default.table_main_overflow_hidden)},N.default.createElement(S.default,{data:r,unit:"\xa5"}))),N.default.createElement("div",{style:{marginBottom:"10px"},className:"".concat(w.default.common_table_item)},N.default.createElement("div",{className:"".concat(w.default.label_panel)},(0,y.sldLlineRtextAddMargin)("#FA6F1E","".concat((0,y.sldComLanguage)("\u5b9e\u65f6\u5546\u54c1\u9500\u552e\u6392\u884c - TOP10")),10,0,0)),N.default.createElement("div",{className:"".concat(w.default.table_main," ").concat(w.default.stat_common_table)},void 0==u.list||void 0!=u.list&&0==u.list.length?(0,y.noDataPlaceholder)():N.default.createElement(D.default,{rowKey:"goodsId",data:u,isColumnResize:!0,columns:i,sldpagination:!1,border:!1,showScrollbar:!1,onChange:function(a,t,l){return e.handleTablePagination(a,t,l,"goods")}})))))))}}]),a}(N.Component),_=v))||_)||_);a.default=T}}]);