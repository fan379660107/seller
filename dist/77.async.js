(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[77],{V1Lq:function(e,t,a){"use strict";var o=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(a("d6i3")),d=o(a("p0pE")),i=o(a("1l/V")),s=o(a("2Taf")),r=o(a("vZ4D")),m=o(a("l4Ni")),g=o(a("ujKo")),u=o(a("MhPg"));a("y8nQ");var c,_,h,f,p=o(a("Vl3Y")),w=a("MuoO"),L=n(a("q1tI")),C=a("+n12"),x=o(a("hh8c")),v=o(a("nVqQ")),b=a("k82f"),y=o(a("Yb6x")),I=o(a("CkN6")),E=o(a("fjb3")),T=C.list_com_page_size_10,V=(c=(0,w.connect)(function(e){var t=e.product;return{product:t}}),_=p.default.create(),c(h=_((f=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,m.default)(this,(0,g.default)(t).call(this,e)),a.img_item={type:"show_goods_img_more",label:(0,C.sldComLanguage)("\u5546\u54c1\u56fe\u7247"),name:"show_goods_img_more",initialValue:"",data:[],item_height:142},a.viewImg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";a.setState({preview_img:t,show_preview_modal:e})},a.get_goods_detail=function(e){var t=a.props.dispatch,o=a.state,n=o.goods_base_data,s=o.goods_img_data,r=o.goods_detail_data,m=o.other_data,g=o.invoice_data,u=o.goods_video_data,c={goodsId:e},_="product/get_goods_detail";t({type:_,payload:c,callback:function(){var e=(0,i.default)(l.default.mark(function e(t){var o,i,c,_,h;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(200==t.state){for(o in r=t.data,r.goods_cat=r.categoryPath,n)"isVirtualGoods"==n[o].name?n[o].text=1==r[n[o].name]?(0,C.sldComLanguage)("\u5b9e\u7269\u5546\u54c1"):(0,C.sldComLanguage)("\u865a\u62df\u5546\u54c1"):n[o].text=r[n[o].name]?r[n[o].name]:"--";for(h in r.imageList.length>0?(i=(0,d.default)({},a.img_item,{data:r.imageList}),s.push(i)):(s=[],c=r.specInfoList,c.map(function(e){e.isMainSpec&&e.specValueList.map(function(e){var t=(0,d.default)({},a.img_item,{data:e.imageList,label:e.specValue});s.push(t)})})),u[0].initialValue=r.goodsVideoUrl,g.map(function(e){e.text=1==r[e.name]?(0,C.sldComLanguage)("\u662f"):(0,C.sldComLanguage)("\u5426")}),_=function(e){"storeInnerLabelList"==m[e].name?null!=r[m[e].name]&&r[m[e].name]?r[m[e].name].map(function(t){m[e].text+="\u3010"+t.innerLabelPath+"\u3011"}):m[e].text="--":"goodsLabelList"==m[e].name?null!=r[m[e].name]&&r[m[e].name]?r[m[e].name].map(function(t){m[e].text+="\u3010"+t.labelName+"\u3011"}):m[e].text="--":"sellNow"==m[e].name?m[e].text=r.sellNow?(0,C.sldComLanguage)("\u7acb\u5373\u552e\u5356"):(0,C.sldComLanguage)("\u653e\u5165\u4ed3\u5e93"):"storeIsRecommend"==m[e].name?m[e].text=1==r.storeIsRecommend?(0,C.sldComLanguage)("\u662f"):(0,C.sldComLanguage)("\u5426"):m[e].text=r[m[e].name]?r[m[e].name]:"--"},m)_(h);2==r.isVirtualGoods&&m.push({type:"show_text",label:"".concat((0,C.sldComLanguage)("\u552e\u540e\u670d\u52a1"),"\uff1a"),name:"afterSaleService",extra:"",item_height:42,text:1==r.afterSaleService?(0,C.sldComLanguage)("\u652f\u6301\u9000\u6b3e"):(0,C.sldComLanguage)("\u4e0d\u652f\u6301\u9000\u6b3e")}),a.setState({loading:!1,goods_base_data:n,goods_img_data:s,goods_detail_data:r,other_data:m,invoice_data:g,goods_video_data:u},function(){})}case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()})},a.state={query:e.location.query,params:{pageSize:T},preview_img:"",show_preview_modal:!1,goods_base_data:[{type:"show_text",label:"".concat((0,C.sldComLanguage)("\u5546\u54c1\u7c7b\u578b"),"\uff1a"),name:"isVirtualGoods",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,C.sldComLanguage)("\u5546\u54c1\u5206\u7c7b"),"\uff1a"),name:"categoryPath",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,C.sldComLanguage)("\u5546\u54c1\u540d\u79f0"),"\uff1a"),name:"goodsName",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,C.sldComLanguage)("\u5546\u54c1\u5e7f\u544a\u8bed"),"\uff1a"),name:"goodsBrief",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,C.sldComLanguage)("\u54c1\u724c"),"\uff1a"),name:"brandName",extra:"",item_height:42,text:""}],invoice_data:[{type:"show_text",label:"".concat((0,C.sldComLanguage)("\u662f\u5426\u5f00\u4e13\u7968"),"\uff1a"),name:"isVatInvoice",extra:"",item_height:42,text:""}],other_data:[{type:"show_text",label:"".concat((0,C.sldComLanguage)("\u5e97\u94fa\u5206\u7c7b"),"\uff1a"),name:"storeInnerLabelList",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,C.sldComLanguage)("\u5546\u54c1\u6807\u7b7e"),"\uff1a"),name:"goodsLabelList",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,C.sldComLanguage)("\u865a\u62df\u9500\u91cf"),"\uff1a"),name:"virtualSales",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,C.sldComLanguage)("\u53d1\u5e03\u72b6\u6001"),"\uff1a"),name:"sellNow",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,C.sldComLanguage)("\u5546\u54c1\u72b6\u6001"),"\uff1a"),name:"stateValue",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,C.sldComLanguage)("\u5546\u54c1\u63a8\u8350"),"\uff1a"),name:"storeIsRecommend",extra:"",item_height:42,text:""}],goods_img_data:[],goods_video_data:[{type:"show_video",label:(0,C.sldComLanguage)("\u5546\u54c1\u89c6\u9891"),name:"goodsVideoUrl",initialValue:"",data:[],item_height:142,preView:a.viewImg}],goods_detail_data:{},columns_spec:[{title:(0,C.sldComLanguage)("\u5e8f\u53f7"),align:"center",width:50,render:function(e,t,a){return a+1}},{title:(0,C.sldComLanguage)("\u89c4\u683c\u540d\u79f0"),dataIndex:"specValues",align:"center",width:150,render:function(e,t,a){return e||(0,C.sldComLanguage)("\u9ed8\u8ba4")}},{title:(0,C.sldComLanguage)("\u5e02\u573a\u4ef7(\xa5)"),dataIndex:"marketPrice",align:"center",width:100,render:function(e,t,a){return e||"--"}},{title:(0,C.sldComLanguage)("\u4ef7\u683c(\xa5)"),dataIndex:"productPrice",align:"center",width:100},{title:(0,C.sldComLanguage)("\u5e93\u5b58"),dataIndex:"productStock",align:"center",width:100},{title:(0,C.sldComLanguage)("\u91cd\u91cf(KG)"),dataIndex:"weight",align:"center",width:100,render:function(e,t,a){return e||"--"}},{title:(0,C.sldComLanguage)("\u957f(CM)"),dataIndex:"length",align:"center",width:100,render:function(e,t,a){return e||"--"}},{title:(0,C.sldComLanguage)("\u5bbd(CM)"),dataIndex:"width",align:"center",width:100,render:function(e,t,a){return e||"--"}},{title:(0,C.sldComLanguage)("\u9ad8(CM)"),dataIndex:"height",align:"center",width:100,render:function(e,t,a){return e||"--"}},{title:(0,C.sldComLanguage)("\u9884\u8b66\u503c"),dataIndex:"productStockWarning",align:"center",width:100,render:function(e,t,a){return e?e>0?e:0:"--"}},{title:(0,C.sldComLanguage)("\u8d27\u53f7"),dataIndex:"productCode",align:"center",width:100,render:function(e,t,a){return e||"--"}},{title:(0,C.sldComLanguage)("\u6761\u5f62\u7801"),dataIndex:"barCode",align:"center",width:100,render:function(e,t,a){return e||"--"}},{title:(0,C.sldComLanguage)("\u9ed8\u8ba4\u9009\u4e2d"),dataIndex:"isDefault",align:"center",width:100,render:function(e,t,a){return 1==e?(0,C.sldComLanguage)("\u662f"):(0,C.sldComLanguage)("\u5426")}}]},a}return(0,u.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.state.query;this.get_goods_detail(e.id),window.addEventListener("resize",this.resize)}},{key:"render",value:function(){var e=this,t=this.state,a=t.goods_base_data,o=t.goods_img_data,n=t.goods_detail_data,l=t.columns_spec,d=t.preview_img,i=t.show_preview_modal,s=t.other_data,r=(t.express_data,t.invoice_data),m=t.goods_video_data;return L.default.createElement("div",{className:x.default.common_page,style:{flex:1}},L.default.createElement("div",{className:x.default.flex_com_space_between,style:{margin:10,marginTop:0}},(0,C.sldLlineRtextAddGoods)("#FA6F1E",(0,C.sldComLanguage)("\u5546\u54c1\u8be6\u60c5")),(0,C.sldIconBtnBg)(function(){return(0,C.pageClose)()},"fanhui",(0,C.sldComLanguage)("\u8fd4\u56de\u4e0a\u7ea7\u9875\u9762"),"#fff",7,0,15,15,5)),(0,C.getSldHorLine)(1),L.default.createElement(b.Scrollbars,{autoHeight:!0,autoHeightMin:100,autoHeightMax:document.body.clientHeight-60},(0,C.sldCommonTitle)((0,C.sldComLanguage)("\u57fa\u672c\u4fe1\u606f"),"#333",5,12,15),L.default.createElement(v.default,{r_color:"#333",l_color:"#999",l_fontw:500,r_fontw:600,form:this.props.form,data:a}),void 0!=n.productList&&n.productList.length>0&&L.default.createElement(L.Fragment,null,(0,C.sldCommonTitle)((0,C.sldComLanguage)("\u5546\u54c1\u89c4\u683c"),"#333",5,15,15),L.default.createElement(I.default,{selectedRows:[],data:{list:n.productList,pagination:{}},size:"small",rowKey:"productId",isCheck:!1,columns:l,sldpagination:!1})),(0,C.sldCommonTitle)((0,C.sldComLanguage)("\u5546\u54c1\u56fe\u7247"),"#333",5,15,15),L.default.createElement(v.default,{part_width:100,lwidth:10,rwidth:90,form:this.props.form,data:o}),n.goodsVideoUrl&&L.default.createElement(L.Fragment,null,(0,C.sldCommonTitle)((0,C.sldComLanguage)("\u5546\u54c1\u89c6\u9891"),"#333",5,15,15),L.default.createElement(v.default,{part_width:100,lwidth:10,rwidth:90,form:this.props.form,data:m})),(0,C.sldCommonTitle)((0,C.sldComLanguage)("\u53d1\u7968\u4fe1\u606f"),"#333",5,15,15),L.default.createElement(v.default,{r_color:"#333",l_color:"#999",l_fontw:500,r_fontw:600,form:this.props.form,data:r}),(0,C.sldCommonTitle)((0,C.sldComLanguage)("\u5176\u4ed6\u4fe1\u606f"),"#333",5,15,15),L.default.createElement(v.default,{r_color:"#333",l_color:"#999",l_fontw:500,r_fontw:600,form:this.props.form,data:s}),n.topTemplateContent||n.goodsDetails||n.bottomTemplateContent?L.default.createElement(L.Fragment,null,(0,C.sldCommonTitle)((0,C.sldComLanguage)("\u5546\u54c1\u8be6\u60c5"),"#333",5,15,15),L.default.createElement("div",{className:y.default.goods_detail_body},n.topTemplateContent?L.default.createElement("div",{dangerouslySetInnerHTML:{__html:(0,C.quillEscapeToHtml)(n.topTemplateContent)}}):"",n.goodsDetails?L.default.createElement("div",{dangerouslySetInnerHTML:{__html:(0,C.quillEscapeToHtml)(n.goodsDetails)}}):"",n.bottomTemplateContent?L.default.createElement("div",{dangerouslySetInnerHTML:{__html:(0,C.quillEscapeToHtml)(n.bottomTemplateContent)}}):"")):""),L.default.createElement(E.default,{img:d,show_preview_modal:i,modal_width:500,preview_alt_con:(0,C.sldComLanguage)("\u5546\u54c1\u56fe\u7247"),closePreviewModal:function(){return e.viewImg(!1)}}))}}]),t}(L.Component),h=f))||h)||h);t.default=V}}]);