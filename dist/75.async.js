(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[75],{IN6N:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var o=l(a("W9HT"));a("Pwec");var r=l(a("CtXQ"));a("+L6B");var d=l(a("2/Rp")),u=l(a("2Taf")),i=l(a("vZ4D")),c=l(a("l4Ni")),s=l(a("ujKo")),f=l(a("MhPg"));a("y8nQ");var g=l(a("Vl3Y"));a("FJo9");var p=l(a("L41K"));a("DZo9");var m,L,v,E,y=l(a("8z0m")),C=a("MuoO"),h=n(a("q1tI")),S=a("+n12"),_=l(a("hh8c")),w=l(a("hdKV")),U=a("UWOa"),x=l(a("usdK")),F=y.default.Dragger,b=p.default.Step,k=(m=(0,C.connect)(function(e){var t=e.product;return{product:t}}),L=g.default.create(),m(v=L((E=function(e){function t(e){var a;return(0,u.default)(this,t),a=(0,c.default)(this,(0,s.default)(t).call(this,e)),a.downLoadMould=function(){var e={};e.fileName="".concat((0,S.sldComLanguage)("\u5546\u54c1\u5bfc\u5165\u6a21\u677f"));var t=a.props.dispatch;a.setState({initLoading:!0}),t({type:"product/download_goods_mould",payload:e,callback:function(e){255==e.state?(0,S.failTip)(e.msg):a.goUpload(),a.setState({initLoading:!1})}})},a.uploadFile=function(e){var t=a.state,l=t.errorFileUrl,n=t.curStep,o=t.initLoading;void 0!=e.file&&void 0!=e.file.response&&(200==e.file.response.state?n=2:255==e.file.response.state?(0,S.failTip)(e.file.response.msg):267==e.file.response.state&&(l=e.file.response.data),o=!1),a.setState({errorFileUrl:l,curStep:n,initLoading:o})},a.goUpload=function(){a.setState({curStep:1})},a.nextUpload=function(){a.setState({curStep:1,errorFileUrl:""})},a.handleUploadLimit=function(e){a.setState({initLoading:!0,errorFileUrl:""})},a.state={curStep:0,search_con:"",errorFileUrl:"",initLoading:!1},a}return(0,f.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.initLoading,l=t.curStep,n=t.errorFileUrl;return h.default.createElement("div",{className:_.default.common_page,style:{flex:1}},h.default.createElement("div",{className:_.default.flex_com_space_between,style:{marginBottom:10}},(0,S.sldLlineRtextAddGoods)("#69A2F2","".concat((0,S.sldComLanguage)("Excel\u5bfc\u5165"))),(0,S.sldIconBtnBg)(function(){return x.default.go(-1)},"fanhui","".concat((0,S.sldComLanguage)("\u8fd4\u56de\u4e0a\u7ea7\u9875\u9762")),"#fff",7,0,15,15,5)),(0,S.showMoreHelpTip)("".concat((0,S.sldComLanguage)("\u64cd\u4f5c\u63d0\u793a")),["".concat((0,S.sldComLanguage)("\u8bf7\u5148\u4e0b\u8f7d\u5546\u54c1\u5bfc\u5165\u6a21\u677f\uff0c\u5e76\u6309\u7167\u6279\u6ce8\u4e2d\u7684\u8981\u6c42\u586b\u5199\u5546\u54c1\u6570\u636e\uff0c\u672a\u6309\u8981\u6c42\u586b\u5199\u5c06\u4f1a\u5bfc\u81f4\u5546\u54c1\u5bfc\u5165\u5931\u8d25")),"".concat((0,S.sldComLanguage)("\u8bf7\u9009\u62e9.xls\u6587\u4ef6\uff0c\u6bcf\u6b21\u53ea\u80fd\u5bfc\u5165\u4e00\u4e2a\u6587\u4ef6\uff0c\u5efa\u8bae\u6bcf\u6b21\u5bfc\u5165\u4e0d\u8d85\u8fc76000\u6761\u5546\u54c1\u6570\u636e"))]),h.default.createElement(o.default,{spinning:a},h.default.createElement("div",{style:{padding:"40px 200px"}},h.default.createElement(p.default,{current:l},h.default.createElement(b,{title:(0,S.sldComLanguage)("\u4e0b\u8f7d\u5546\u54c1\u5bfc\u5165\u6a21\u677f")}),h.default.createElement(b,{title:(0,S.sldComLanguage)("\u4e0a\u4f20\u6587\u4ef6")}),h.default.createElement(b,{title:(0,S.sldComLanguage)("\u5b8c\u6210")}))),h.default.createElement("div",{className:"".concat(_.default.flex_column_center_center," ").concat(w.default.goods_import)},0==l&&h.default.createElement(h.Fragment,null,(0,S.getSldEmptyH)(10),h.default.createElement(d.default,{type:"primary",icon:"download",size:"large",onClick:function(){return e.downLoadMould()}},(0,S.sldComLanguage)("\u4e0b\u8f7d\u5546\u54c1\u5bfc\u5165\u6a21\u677f")),(0,S.getSldEmptyH)(40),h.default.createElement(d.default,{type:"primary",size:"large",onClick:function(){return e.goUpload()}},(0,S.sldComLanguage)("\u4e0b\u4e00\u6b65"))),1==l&&h.default.createElement("div",{style:{width:"100%",height:150,padding:"0 20px"}},h.default.createElement(F,{listType:"picture-card",name:"file",accept:".xls",beforeUpload:function(t){return e.handleUploadLimit(t)},action:U.apiUrl+"v3/goods/seller/goods/import",showUploadList:!1,onChange:function(t){return e.uploadFile(t)},onPreview:function(e){},headers:{Authorization:"Bearer "+(0,S.getLocalStorageStingVal)("sld_token")}},h.default.createElement(r.default,{type:"plus",style:{fontSize:32,color:"#999"}}),h.default.createElement("p",null,(0,S.sldComLanguage)("\u70b9\u51fb\u4e0a\u4f20\u6216\u8005\u62d6\u62fd\u6587\u4ef6\u5230\u8be5\u533a\u57df\u5373\u53ef"))),n&&h.default.createElement("div",{style:{marginTop:12,color:"rgb(51, 51, 51)",textAlign:"center"}},h.default.createElement("span",{style:{color:"rgb(225, 0, 0)"}},(0,S.sldComLanguage)("\u4e0a\u4f20\u5931\u8d25"),"\uff01"),"\u60a8\u53ef\u4ee5",h.default.createElement("a",{download:"".concat((0,S.sldComLanguage)("\u9519\u8bef\u8868\u683c"),".xls"),href:n,style:{color:"#FF711E"}},(0,S.sldComLanguage)("\u4e0b\u8f7d\u9519\u8bef\u8868\u683c")),"\uff0c",(0,S.sldComLanguage)("\u67e5\u770b\u9519\u8bef\u539f\u56e0\uff0c\u4fee\u6539\u540e\u91cd\u65b0\u4e0a\u4f20"),"\u3002")),2==l&&h.default.createElement(h.Fragment,null,h.default.createElement("p",{className:w.default.import_success_con},(0,S.sldComLanguage)("\u5bfc\u5165\u6210\u529f"),"\uff01"),h.default.createElement("p",{className:w.default.import_success_tip},(0,S.sldComLanguage)("\u60a8\u53ef\u4ee5\u524d\u5f80\u5546\u54c1\u5217\u8868\u67e5\u770b\u5df2\u5bfc\u5165\u7684\u5546\u54c1\uff0c\u6216\u662f\u7ee7\u7eed\u5bfc\u5165"),"\u3002"),(0,S.getSldEmptyH)(2),h.default.createElement(d.default,{type:"primary",size:"large",onClick:function(){return e.nextUpload()}},(0,S.sldComLanguage)("\u7ee7\u7eed\u5bfc\u5165"))))))}}]),t}(h.Component),v=E))||v)||v);t.default=k}}]);