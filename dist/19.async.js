(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"3BSJ":function(e,t,a){"use strict";var l=a("g09b"),o=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("giR+");var r=l(a("fyUT"));a("+L6B");var n=l(a("2/Rp"));a("5NDa");var d=l(a("5rEg")),i=l(a("jehZ"));a("P2fV");var s=l(a("NJEC")),c=l(a("gWZ8")),m=l(a("2Taf")),u=l(a("vZ4D")),g=l(a("l4Ni")),f=l(a("ujKo")),p=l(a("rlhR")),_=l(a("MhPg"));a("OaEy");var h=l(a("2fM7"));a("7Kak");var v=l(a("9yH6"));a("y8nQ");var x=l(a("Vl3Y"));a("2qtc");var C,L,b,y,S=l(a("kLXV")),E=a("MuoO"),w=o(a("q1tI")),N=a("+n12"),T=l(a("hh8c")),k=l(a("usdK")),V=l(a("dnYI")),I=a("k82f"),F=l(a("nVqQ")),M=l(a("RTFr")),O=l(a("CkN6")),A=S.default.info,H=x.default.Item,D=v.default.Group,R=h.default.Option,B=(C=(0,E.connect)(function(e){var t=e.order;return{order:t}}),L=x.default.create(),C(b=L((y=function(e){function t(e){var l;return(0,m.default)(this,t),l=(0,g.default)(this,(0,f.default)(t).call(this,e)),l.columns_order_goods=[{title:" ",align:"center",width:30,render:function(e,t,a){return 1*a+1}},{title:"".concat((0,N.sldComLanguage)("\u5546\u54c1\u4fe1\u606f")),dataIndex:"productImage",align:"center",width:500,render:function(e,t){return w.default.createElement("div",{className:"".concat(V.default.goods_info," ").concat(T.default.com_flex_row_flex_start)},w.default.createElement("div",{className:V.default.goods_img},(0,N.getSldListGoodsImg80)(e)),w.default.createElement("div",{className:"".concat(T.default.com_flex_column_space_between," ").concat(V.default.goods_detail)},w.default.createElement("span",{className:V.default.goods_name,style:{marginTop:6,width:380},title:t.goodsName},t.goodsName),w.default.createElement("span",{className:V.default.goods_brief,title:t.specValue},t.specValues)))}},{title:"".concat((0,N.sldComLanguage)("\u5355\u4ef7(\u5143)")),dataIndex:"productShowPrice",align:"center",width:100},{title:"".concat((0,N.sldComLanguage)("\u6570\u91cf")),dataIndex:"productNum",align:"center",width:100},{title:"".concat((0,N.sldComLanguage)("\u64cd\u4f5c")),align:"center",width:80,render:function(e,t){return w.default.createElement(w.Fragment,null,void 0!=t.afsState&&t.afsState?(0,N.sldtbaleOpeBtnText)(t.afsStateValue,function(){return l.goServiceDetail(t.afsSn)}):"--")}}],l.columns_order_log=[{title:" ",align:"center",width:30,render:function(e,t,a){return 1*a+1}},{title:"".concat((0,N.sldComLanguage)("\u64cd\u4f5c\u65b9")),dataIndex:"logRole",align:"center",width:100,render:function(e,t,a){var l="";return 1==e?l="\u7cfb\u7edf\u7ba1\u7406\u5458":2==e?l="\u5546\u5bb6":2==e&&(l="\u4f1a\u5458"),l}},{title:"".concat((0,N.sldComLanguage)("\u64cd\u4f5c\u4eba")),dataIndex:"logUserName",align:"center",width:100},{title:"".concat((0,N.sldComLanguage)("\u64cd\u4f5c\u65f6\u95f4")),dataIndex:"logTime",align:"center",width:150},{title:"".concat((0,N.sldComLanguage)("\u64cd\u4f5c\u5185\u5bb9")),dataIndex:"logContent",align:"center",width:200}],l.invoice_info_other=[{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u662f\u5426\u9700\u8981\u5f00\u7968")),name:"invoiceStatus",extra:"",item_height:42,text:"".concat((0,N.sldComLanguage)("\u5426"))}],l.invoice_info_personal=[{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u53d1\u7968\u62ac\u5934")),name:"invoiceTitle",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u6536\u7968\u90ae\u7bb1")),name:"receiverEmail",extra:"",item_height:42,text:""}],l.invoice_info_VAT=[{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u5355\u4f4d\u540d\u79f0")),name:"invoiceTitle",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u7a0e\u53f7")),name:"taxCode",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u6ce8\u518c\u5730\u5740")),name:"registerAddr",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u6ce8\u518c\u7535\u8bdd")),name:"registerPhone",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u5f00\u6237\u94f6\u884c")),name:"bankName",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u94f6\u884c\u8d26\u6237")),name:"bankAccount",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u6536\u7968\u4eba")),name:"receiverName",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u6536\u7968\u7535\u8bdd")),name:"receiverMobile",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u6536\u7968\u5730\u5740")),name:"receiverAddress",extra:"",item_height:42,text:""}],l.get_flow_loading=!1,l.goServiceDetail=function(e){k.default.push("/order/service_refund_lists_to_detail?afsSn=".concat(e))},l.get_order_detail=function(e){var t=l.props.dispatch,o=l.state,r=o.order_detail,n=o.return_progress_data,d=o.invoice_info,i=o.receiver_info,s=o.order_info,m=(o.goodsInfoList,o.orderLogList),u=o.reserve_info;t({type:"order/get_order_detail",payload:e,callback:function(e){if(200==e.state){if(r=e.data,m=e.data.orderLogs,1==r.invoiceStatus){var t="";for(var o in 1==r.invoiceInfo.titleType?(d=JSON.parse(JSON.stringify(l.invoice_info_personal)),t="".concat((0,N.sldComLanguage)("\u4e2a\u4eba\u53d1\u7968"))):1!=r.invoiceInfo.invoiceType?(d=JSON.parse(JSON.stringify(l.invoice_info_VAT)),t="".concat((0,N.sldComLanguage)("\u589e\u503c\u7a0e\u4e13\u7528\u53d1\u7968"))):t="".concat((0,N.sldComLanguage)("\u666e\u901a\u53d1\u7968")),d)d[o].text=r["invoiceInfo"][d[o].name]?r["invoiceInfo"][d[o].name]:"--";var g=1==r.invoiceInfo.invoiceContent?"".concat((0,N.sldComLanguage)("\u5546\u54c1\u660e\u7ec6")):"".concat((0,N.sldComLanguage)("\u5546\u54c1\u7c7b\u522b"));d=[{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u53d1\u7968\u7c7b\u578b")),name:"invoiceTypeCombine",extra:"",item_height:42,text:t},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u53d1\u7968\u5185\u5bb9")),name:"invoiceContent",extra:"",item_height:42,text:g}].concat((0,c.default)(d))}else d=JSON.parse(JSON.stringify(l.invoice_info_other));for(var f in i.map(function(e){"receiverAreaInfo"==e.name?e.text=r.receiverAreaInfo+" "+r.receiverAddress:e.text=r[e.name]?r[e.name]:"--"}),s)"orderTypeValue"==s[f].name?s[f].text=r[s[f].name]?"".concat(r[s[f].name]).concat((0,N.sldComLanguage)("\u8ba2\u5355")).concat(2==r.isVirtualGoods?"\u3001"+(0,N.sldComLanguage)("\u865a\u62df\u8ba2\u5355"):""):2==r.isVirtualGoods?"".concat((0,N.sldComLanguage)("\u865a\u62df\u8ba2\u5355")):"".concat((0,N.sldComLanguage)("\u666e\u901a\u8ba2\u5355")):"star"==s[f].name?s[f].text=r[s[f].name]?r[s[f].name]:0:s[f].text=r[s[f].name]?r[s[f].name]:"--";2==r.isVirtualGoods&&void 0!=r.orderReserveList.length&&r.orderReserveList.length&&(u=[],r.orderReserveList.map(function(e){u.push({type:"show_text",label:e.reserveName,name:e.reserveId,extra:"",item_height:42,text:e.reserveValue})})),n=[],0==r.orderState?(n.push({icon:a("xkDd"),state:"".concat((0,N.sldComLanguage)("\u63d0\u4ea4\u8ba2\u5355")),time:m.length>0&&void 0!=m[0].logTime?m[0].logTime:"",state_color:"rgba(255, 113, 30, .6)",time_color:"rgba(255, 113, 30, .3)",line_color:"rgba(255, 113, 30, .3)"}),n.push({icon:a("7un2"),state:"".concat((0,N.sldComLanguage)("\u8ba2\u5355\u53d6\u6d88")),time:m.length>0&&void 0!=m[1].logTime?m[1].logTime:"",state_color:"rgba(255, 113, 30,1)",time_color:"rgba(255, 113, 30, .5)",line_color:"rgba(255, 113, 30,1)"})):10==r.orderState?(n.push({icon:a("Jf4I"),state:"".concat((0,N.sldComLanguage)("\u63d0\u4ea4\u8ba2\u5355")),time:m.length>0&&void 0!=m[0].logTime?m[0].logTime:"",state_color:"rgba(255, 113, 30,1)",time_color:"rgba(51, 51, 51, 1)",line_color:"rgba(255, 113, 30,1)"}),n.push({icon:a("X3/m"),state:"".concat((0,N.sldComLanguage)("\u4ed8\u6b3e\u6210\u529f")),time:"",state_color:"rgba(51, 51, 51, .5)",time_color:"rgba(51, 51, 51, .5)",line_color:"#eee"}),n.push({icon:a("woAG"),state:"".concat((0,N.sldComLanguage)("\u5546\u54c1\u53d1\u8d27")),time:"",state_color:"#999999",time_color:"rgba(255, 113, 30, .5)",line_color:"#eee"}),n.push({icon:a("6Awp"),state:"".concat((0,N.sldComLanguage)("\u8ba2\u5355\u5b8c\u6210")),time:"",state_color:"rgba(51, 51, 51, .5)",time_color:"rgba(51, 51, 51, .5)",line_color:"#eee"})):20==r.orderState?(n.push({icon:a("xkDd"),state:"".concat((0,N.sldComLanguage)("\u63d0\u4ea4\u8ba2\u5355")),time:m.length>0&&void 0!=m[0].logTime?m[0].logTime:"",state_color:"rgba(51, 51, 51, .5)",time_color:"rgba(51, 51, 51, .5)",line_color:"rgba(255, 113, 30, .3)"}),n.push({icon:a("uL9w"),state:"".concat((0,N.sldComLanguage)("\u4ed8\u6b3e\u6210\u529f")),time:m.length>0&&void 0!=m[1].logTime?m[1].logTime:"",state_color:"rgba(51, 51, 51, 1)",time_color:"rgba(51, 51, 51, 1)",line_color:"rgba(255, 113, 30,1)"}),n.push({icon:a("woAG"),state:"".concat((0,N.sldComLanguage)("\u5546\u54c1\u53d1\u8d27")),time:"",state_color:"rgba(51, 51, 51, .5)",time_color:"rgba(51, 51, 51, .5)",line_color:"#eee"}),n.push({icon:a("6Awp"),state:"".concat((0,N.sldComLanguage)("\u8ba2\u5355\u5b8c\u6210")),time:"",state_color:"rgba(51, 51, 51, .5)",time_color:"rgba(51, 51, 51, .5)",line_color:"#eee"})):30==r.orderState?(n.push({icon:a("xkDd"),state:"".concat((0,N.sldComLanguage)("\u63d0\u4ea4\u8ba2\u5355")),time:m.length>0&&void 0!=m[0].logTime?m[0].logTime:"",state_color:"rgba(51, 51, 51, .5)",time_color:"rgba(51, 51, 51, .5)",line_color:"rgba(255, 113, 30, .3)"}),n.push({icon:a("VXeM"),state:"".concat((0,N.sldComLanguage)("\u4ed8\u6b3e\u6210\u529f")),time:m.length>0&&void 0!=m[1].logTime?m[1].logTime:"",state_color:"rgba(51, 51, 51, .5)",time_color:"rgba(51, 51, 51, .5)",line_color:"rgba(255, 113, 30, .3)"}),n.push({icon:a("69Qp"),state:"".concat((0,N.sldComLanguage)("\u5546\u54c1\u53d1\u8d27")),time:m.length>0&&void 0!=m[2].logTime?m[2].logTime:"",state_color:"rgba(51, 51, 51, 1)",time_color:"rgba(51, 51, 51, 1)",line_color:"rgba(255, 113, 30,1)"}),n.push({icon:a("6Awp"),state:"".concat((0,N.sldComLanguage)("\u8ba2\u5355\u5b8c\u6210")),time:"",state_color:"rgba(51, 51, 51, .5)",time_color:"rgba(51, 51, 51, .5)",line_color:"#eee"})):40==r.orderState&&(n.push({icon:a("xkDd"),state:"".concat((0,N.sldComLanguage)("\u63d0\u4ea4\u8ba2\u5355")),time:m.length>0&&void 0!=m[0].logTime?m[0].logTime:"",state_color:"rgba(255, 113, 30, .6)",time_color:"rgba(255, 113, 30, .3)",line_color:"rgba(255, 113, 30, .3)"}),n.push({icon:a("VXeM"),state:"".concat((0,N.sldComLanguage)("\u4ed8\u6b3e\u6210\u529f")),time:m.length>0&&void 0!=m[1].logTime?m[1].logTime:"",state_color:"rgba(255, 113, 30, .6)",time_color:"rgba(255, 113, 30, .3)",line_color:"rgba(255, 113, 30, .3)"}),n.push({icon:a("jOec"),state:"".concat((0,N.sldComLanguage)("\u5546\u54c1\u53d1\u8d27")),time:m.length>0&&void 0!=m[2].logTime?m[2].logTime:"",state_color:"rgba(255, 113, 30, .6)",time_color:"rgba(255, 113, 30, .3)",line_color:"rgba(255, 113, 30, .3)"}),n.push({icon:a("FyX7"),state:"".concat((0,N.sldComLanguage)("\u8ba2\u5355\u5b8c\u6210")),time:m.length>0&&void 0!=m[3].logTime?m[3].logTime:"",state_color:"rgba(51, 51, 51, 1)",time_color:"rgba(51, 51, 51, 1)",line_color:"rgba(255, 113, 30,1)"})),l.setState({order_detail:e.data,invoice_info:d,receiver_info:i,order_info:s,reserve_info:u,return_progress_data:n,goodsInfoList:r.orderProductList})}else(0,N.failTip)(e.msg)}})},l.get_reason_list=function(){var e=l.props.dispatch;e({type:"order/get_order_reason",payload:{type:108,pageSize:N.list_com_page_more},callback:function(e){200==e.state?l.setState({resList:e.data}):(0,N.failTip)(e.msg)}})},l.agreeReturn=function(e){var t=l.props.dispatch,a=l.state,o=a.resList,r=a.modalVisible,n=a.operateData,d=a.deliverModal,i=a.query,s=a.show_foot,c=a.order_detail,m=a.showTopTip,u="",g=!1,f=!1;if(n=[],m="","cancleOrder"==e)m="".concat((0,N.sldComLanguage)("\u53d6\u6d88\u8ba2\u5355\u540e\uff0c\u8ba2\u5355\u5c06\u81ea\u52a8\u5173\u95ed")),n.push({type:"select",label:"".concat((0,N.sldComLanguage)("\u53d6\u6d88\u7406\u7531")),name:"reasonId",placeholder:"".concat((0,N.sldComLanguage)("\u8bf7\u9009\u62e9\u53d6\u6d88\u7406\u7531")),sel_data:o,sele_key:"reasonId",sele_name:"content",diy:!0,rules:[{required:!0,message:"".concat((0,N.sldComLanguage)("\u8bf7\u9009\u62e9\u53d6\u6d88\u7406\u7531"))}]}),n.push({type:"textarea",label:"".concat((0,N.sldComLanguage)("\u53d6\u6d88\u5907\u6ce8")),name:"remark",placeholder:"".concat((0,N.sldComLanguage)("\u8bf7\u8f93\u5165\u53d6\u6d88\u5907\u6ce8\uff0c\u6700\u591a50\u4e2a\u5b57")),initialValue:"",maxLength:50}),u="".concat((0,N.sldComLanguage)("\u53d6\u6d88\u8ba2\u5355")),g=!0,s=!0;else if("deliver"==e)t({type:"order/get_express",payload:{pageSize:N.list_com_page_more,expressState:1},callback:function(t){200==t.state?(f=!0,l.setState({expressList:t.data.list,deliverModal:f&&!d,propType:e,deliverType:"0",show_foot:!0,exterFaceSheet:c.expressNumber?c.expressNumber:"",isAllowApplyExpressNum:!c.expressNumber,showPrintExterFaceSheetBtn:!!c.expressNumber},function(){l.props.form.resetFields(["expressNumber"])})):(0,N.failTip)(t.msg)}});else if("flow"==e){if(l.get_flow_loading)return!1;1==c.deliverType?A({width:470,title:"\u8be5\u8ba2\u5355\u662f\u81ea\u884c\u914d\u9001\uff0c\u60a8\u53ef\u4ee5\u8054\u7cfb\u914d\u9001\u4eba\u4e86\u89e3\u5177\u4f53\u8fdb\u5ea6",content:w.default.createElement("div",null,w.default.createElement("p",null,"\u914d\u9001\u4eba\u59d3\u540d\uff1a",c.deliverName),w.default.createElement("p",null,"\u914d\u9001\u4eba\u624b\u673a\u53f7\uff1a",c.deliverMobile))}):(l.get_flow_loading=!0,t({type:"order/get_flow",payload:{orderSn:i.orderSn},callback:function(t){200==t.state?(n.push({type:"show_express",content:t.data}),g=!0,u="".concat((0,N.sldComLanguage)("\u7269\u6d41\u4fe1\u606f")),l.setState({operateData:n,modalVisible:g&&!r,titleName:u,propType:e,show_foot:!1})):(0,N.failTip)(t.msg),l.get_flow_loading=!1}}))}l.setState({operateData:n,modalVisible:g&&!r,titleName:u,propType:e,show_foot:s,showTopTip:m})},l.sldHandleConfirm=function(e){var t=l.state,a=t.propType,o=t.query,r=t.modalVisible,n=l.props.dispatch;"cancleOrder"==a&&(e.orderSn=o.orderSn,n({type:"order/cancle_order",payload:e,callback:function(e){200==e.state?((0,N.sucTip)(e.msg),l.setState({modalVisible:!r,return_progress_data:[]}),l.get_order_detail({orderSn:o.orderSn})):(0,N.failTip)(e.msg)}}))},l.sldHandleCancle=function(){var e=l.state.modalVisible;l.setState({modalVisible:!e,operateData:[]})},l.sldDeliverHandleCancle=function(){l.setState({deliverModal:!1,deliverType:""}),l.props.form.resetFields()},l.virturalGoodsOrderDeliverConfirm=function(){var e=l.props.dispatch,t=l.state,a=t.query,o=t.order_detail;e({type:"order/confirm_delivery",payload:{orderSn:o.orderSn},callback:function(e){200==e.state?((0,N.sucTip)(e.msg),l.get_order_detail({orderSn:a.orderSn})):(0,N.failTip)(e.msg)}})},l.deliverConfirm=function(e){e.preventDefault();var t=l.props.form.getFieldValue("deliverType"),a=[];a=1==t?["deliverName","deliverMobile","deliverType"]:["expressId","expressNumber","deliverType"],l.props.form.validateFieldsAndScroll(a,function(e,t){if(!e){var a=l.state.query,o=l.props.dispatch;t.orderSn=a.orderSn,o({type:"order/confirm_delivery",payload:t,callback:function(e){200==e.state?((0,N.sucTip)(e.msg),l.setState({deliverModal:!1,return_progress_data:[],deliverType:""}),l.get_order_detail({orderSn:a.orderSn}),l.props.form.resetFields()):(0,N.failTip)(e.msg)}})}})},l.redioOnChange=function(e){l.setState({deliverType:e.target.value})},l.sldHandleSecondCancle=function(){l.setState({secondModalVisible:!1,priceModalVisible:!1})},l.sldHandleSecondConfirm=function(e){var t=l.state.order_detail;e.orderSn=t.orderSn,l.operate(e,"remark")},l.sldHandleConfirmPrice=function(e){var t=l.state,a=t.order_detail,o=t.changeVal;e.preventDefault(),l.props.form.validateFieldsAndScroll(["moneyAmount","expressFee"],function(e,t){e||(t.orderSn=a.orderSn,t.expressFee=o,l.operate(t,"price"))})},l.operate=function(e,t){l.setState({secondSubmiting:!0,priceSubmiting:!0});var a=l.state.query,o=l.props.dispatch,r="",n={};"remark"==t?(r="order/add_order_remark",n=e):"star"==t?(r="order/add_order_star",n=e):"price"==t&&(r="order/change_order_price",n=e),o({type:r,payload:n,callback:function(e){200==e.state?((0,N.sucTip)(e.msg),l.setState({secondModalVisible:!1,priceModalVisible:!1}),l.get_order_detail({orderSn:a.orderSn})):(0,N.failTip)(e.msg),l.setState({secondSubmiting:!1,priceSubmiting:!1})}})},l.changeOrderPrice=function(){var e=l.state.order_detail;l.setState({priceModalVisible:!0,changeVal:e.expressFee})},l.handleChangeVal=function(e){l.setState({changeVal:e||0})},l.freeExpress=function(){l.setState({changeVal:0})},l.addOrderRemark=function(){var e=l.state,t=e.orderRemarkData,a=e.secondOperateData,o=e.order_detail;a=JSON.parse(JSON.stringify(t)),o.storeRemark&&(a[0].initialValue=o.storeRemark),l.setState({secondTitle:"\u5546\u5bb6\u8ba2\u5355\u5907\u6ce8",secondOperateData:a,secondModalVisible:!0})},l.addStar=function(e){var t=l.state.order_detail;1*e!=(t.star?1*t.star:0)&&l.operate({orderSn:t.orderSn,star:e},"star")},l.getExterFaceSheetBtn=function(){l.props.form.validateFieldsAndScroll(["expressId"],function(e,t){if(!e){var a=l.state,o=a.order_detail,r=a.showPrintExterFaceSheetBtn,n=a.exterFaceSheet,d=a.query,i=l.props.dispatch;t.orderSn=o.orderSn,i({type:"order/get_exter_face_sheet",payload:t,callback:function(e){200==e.state?(l.props.form.resetFields(["expressNumber"]),l.get_order_detail({orderSn:d.orderSn}),r=!0,n=e.data.logisticCode):(0,N.failTip)(e.msg),l.setState({showPrintExterFaceSheetBtn:r,exterFaceSheet:n},function(){l.props.form.resetFields(["expressNumber"])})}})}})},l.printExterFaceSheetBtn=function(){var e=l.state.order_detail,t=l.props.dispatch;t({type:"order/print_exter_face_sheet",payload:{orderSns:e.orderSn},callback:function(e){200==e.state?e.data&&window.open(e.data,"_blank"):(0,N.failTip)(e.msg)}})},l.handleSelExpress=function(e){var t=l.state,a=t.order_detail,o=t.exterFaceSheet,r=t.showPrintExterFaceSheetBtn;e!=a.expressId?(o="",r=!1):(o=a.expressNumber,r=!0),l.setState({exterFaceSheet:o,showPrintExterFaceSheetBtn:r},function(){l.props.form.resetFields(["expressNumber"])})},l.handleInputExpressNum=function(e){l.setState({exterFaceSheet:e.target.value},function(){l.props.form.resetFields(["expressNumber"])})},(0,p.default)(l),l.state={reserve_info:[],exterFaceSheet:"",showPrintExterFaceSheetBtn:!1,isAllowApplyExpressNum:!0,showTopTip:"",secondTitle:"",secondSubmiting:!1,secondModalVisible:!1,secondOperateData:[],orderRemarkData:[{type:"textarea",label:"".concat((0,N.sldComLanguage)("\u8ba2\u5355\u5907\u6ce8")),name:"remark",placeholder:"".concat((0,N.sldComLanguage)("\u8bf7\u8f93\u5165\u8ba2\u5355\u5907\u6ce8\u4fe1\u606f")),extra:"".concat((0,N.sldComLanguage)("\u6700\u591a\u8f93\u5165100\u5b57")),initialValue:"",maxLength:100}],changeVal:"",priceModalVisible:!1,priceSubmiting:!1,query:e.location.query,order_detail:{},return_progress_data:[],invoice_info:[{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u5355\u4f4d\u540d\u79f0")),name:"invoiceTitle",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u7a0e\u53f7")),name:"taxCode",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u6536\u7968\u90ae\u7bb1")),name:"receiverEmail",extra:"",item_height:42,text:""}],receiver_info:[{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u4f1a\u5458\u540d\u79f0")),name:"memberName",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u6536\u8d27\u4eba")),name:"receiverName",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u6536\u8d27\u4eba\u624b\u673a\u53f7")),name:"receiverMobile",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u6536\u8d27\u5730\u5740")),name:"receiverAreaInfo",extra:"",item_height:42,text:""}],order_info:[{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u8ba2\u5355\u7c7b\u578b")),name:"orderTypeValue",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u8ba2\u5355\u53f7")),name:"orderSn",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u652f\u4ed8\u65b9\u5f0f")),name:"paymentName",extra:"",item_height:42,text:""},{type:"show_text",label:"".concat((0,N.sldComLanguage)("\u8ba2\u5355\u5907\u6ce8")),name:"orderRemark",extra:"",item_height:42,text:""},{type:"show_text_edit",label:"".concat((0,N.sldComLanguage)("\u5546\u5bb6\u5907\u6ce8")),name:"storeRemark",extra:"",item_height:42,text:"",onChange:l.addOrderRemark},{type:"show_order_star",label:"".concat((0,N.sldComLanguage)("\u8ba2\u5355\u661f\u7ea7")),name:"star",extra:"",item_height:42,text:"",addStar:l.addStar}],goodsInfoList:[],orderLogList:[],operateData:[],resList:[],modalVisible:!1,titleName:"",submiting:!1,show_foot:!0,modal_width:550,propType:"",deliverModal:!1,expressList:[],deliverType:"0"},l}return(0,_.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this.state.query;this.get_order_detail({orderSn:e.orderSn}),this.get_reason_list()}},{key:"render",value:function(){var e=this,t=this.state,a=t.order_detail,l=t.invoice_info,o=t.receiver_info,c=t.order_info,m=t.return_progress_data,u=t.deliverType,g=t.titleName,f=t.submiting,p=t.show_foot,_=t.modal_width,C=t.showTopTip,L=t.modalVisible,b=t.operateData,y=t.deliverModal,E=t.expressList,k=t.priceModalVisible,A=t.changeVal,B=t.priceSubmiting,q=t.secondTitle,P=t.secondSubmiting,G=t.secondModalVisible,J=t.secondOperateData,z=t.exterFaceSheet,X=t.showPrintExterFaceSheetBtn,j=t.isAllowApplyExpressNum,K=t.reserve_info,Z=this.props.form.getFieldDecorator;return w.default.createElement("div",{className:T.default.common_page,style:{flex:1,flexDirection:"column",overflow:"hidden"}},w.default.createElement("div",{className:T.default.flex_com_space_between,style:{margin:10,marginTop:0}},(0,N.sldLlineRtextAddGoods)("#69A2F2","".concat((0,N.sldComLanguage)("\u8ba2\u5355\u8be6\u60c5"))),(0,N.sldIconBtnBg)(function(){e.props.history.goBack()},"fanhui","".concat((0,N.sldComLanguage)("\u8fd4\u56de\u4e0a\u7ea7\u9875\u9762")),"#fff",7,0,15,15,5)),(0,N.getSldHorLine)(1),w.default.createElement(I.Scrollbars,{autoHeight:!0,autoHeightMin:100,autoHeightMax:document.body.clientHeight-108},w.default.createElement("div",{className:"".concat(T.default.flex_row_center_start," ").concat(V.default.progress)},m.map(function(e,t){return w.default.createElement("div",{key:t,className:"".concat(T.default.flex_column_start_center," ").concat(V.default.item)},w.default.createElement("div",{className:"".concat(V.default.top," ").concat(T.default.flex_row_center_center)},w.default.createElement("span",{className:"".concat(V.default.left_line),style:{borderColor:e.line_color}}),w.default.createElement("img",{src:e.icon}),w.default.createElement("span",{className:"".concat(V.default.right_line),style:{borderColor:e.line_color}})),w.default.createElement("span",{className:"".concat(V.default.state),style:{color:e.state_color}},e.state),w.default.createElement("span",{className:"".concat(V.default.time),style:{color:e.time_color}},e.time))})),0==a.orderState&&w.default.createElement("div",{className:"".concat(V.default.state_part," ").concat(T.default.flex_column_start_center)},w.default.createElement("span",{className:V.default.title},"".concat((0,N.sldComLanguage)("\u8ba2\u5355\u5df2\u53d6\u6d88"))),w.default.createElement("span",{className:V.default.tip},(0,N.sldComLanguage)("\u53d6\u6d88\u539f\u56e0"),":",a.refuseReason+(a.refuseRemark?","+a.refuseRemark:""))),10==a.orderState&&w.default.createElement("div",{className:"".concat(V.default.state_part," ").concat(T.default.flex_column_start_center)},w.default.createElement("span",{className:V.default.title},a.orderStateValue),w.default.createElement("div",{className:V.default.btnsty},w.default.createElement("div",{onClick:function(){return e.agreeReturn("cancleOrder")},className:V.default.cancle_btn},(0,N.sldComLanguage)("\u53d6\u6d88\u8ba2\u5355")),1==a.orderType&&w.default.createElement("div",{onClick:function(){return e.changeOrderPrice()},className:V.default.deliver_btn},(0,N.sldComLanguage)("\u4fee\u6539\u4ef7\u683c")))),20==a.orderState&&0==a.lockState&&w.default.createElement("div",{className:"".concat(V.default.state_part," ").concat(T.default.flex_column_start_center)},w.default.createElement("span",{className:V.default.title},a.orderStateValue),w.default.createElement("div",{className:V.default.btnsty},w.default.createElement("div",{onClick:function(){return e.agreeReturn("cancleOrder")},className:V.default.cancle_btn},(0,N.sldComLanguage)("\u53d6\u6d88\u8ba2\u5355")),(void 0==a.isShowDeliverButton||void 0!=a.isShowDeliverButton&&a.isShowDeliverButton)&&(2==a.isVirtualGoods?w.default.createElement(s.default,{placement:"topRight",title:"".concat((0,N.sldComLanguage)("\u8be5\u8ba2\u5355\u4e3a\u865a\u62df\u5546\u54c1\u8ba2\u5355\uff0c\u786e\u8ba4\u6267\u884c\u8be5\u64cd\u4f5c\u5417"),"?"),onConfirm:function(){return e.virturalGoodsOrderDeliverConfirm()},okText:(0,N.sldComLanguage)("\u786e\u5b9a"),cancelText:(0,N.sldComLanguage)("\u53d6\u6d88")},w.default.createElement("div",{className:V.default.deliver_btn},w.default.createElement("a",{style:{color:"#fff"},href:"javascript:void(0)"},(0,N.sldComLanguage)("\u53d1\u8d27")))):w.default.createElement("div",{onClick:function(){return e.agreeReturn("deliver")},className:V.default.deliver_btn},(0,N.sldComLanguage)("\u53d1\u8d27"))))),20==a.orderState&&a.lockState>0&&w.default.createElement("div",{className:"".concat(V.default.state_part," ").concat(T.default.flex_column_start_center)},w.default.createElement("span",{className:V.default.title},a.orderStateValue),w.default.createElement("div",{className:V.default.btnsty},w.default.createElement("div",{className:V.default.lock_agree_btn},(0,N.sldComLanguage)("\u53d6\u6d88\u8ba2\u5355")),w.default.createElement("div",{className:V.default.lock_refuse_btn},(0,N.sldComLanguage)("\u53d1\u8d27")))),30==a.orderState&&w.default.createElement("div",{className:"".concat(V.default.state_part," ").concat(T.default.flex_column_start_center)},w.default.createElement("span",{className:V.default.title},"".concat((0,N.sldComLanguage)("\u5546\u54c1\u5df2\u53d1\u51fa,\u7b49\u5f85\u4e70\u5bb6\u6536\u8d27"))),1==a.isVirtualGoods&&w.default.createElement("div",{className:V.default.btnsty},w.default.createElement("div",{onClick:function(){return e.agreeReturn("flow")},className:V.default.cancle_btn},(0,N.sldComLanguage)("\u67e5\u770b\u7269\u6d41")))),40==a.orderState&&w.default.createElement("div",{className:"".concat(V.default.state_part," ").concat(T.default.flex_column_start_center)},w.default.createElement("span",{className:V.default.title},"".concat((0,N.sldComLanguage)("\u4e70\u5bb6\u5df2\u786e\u8ba4\u6536\u8d27,\u8ba2\u5355\u5b8c\u6210"))),1==a.isVirtualGoods&&w.default.createElement("div",{className:V.default.btnsty},w.default.createElement("div",{onClick:function(){return e.agreeReturn("flow")},className:V.default.cancle_btn},(0,N.sldComLanguage)("\u67e5\u770b\u7269\u6d41")))),50==a.orderState&&w.default.createElement("div",{className:"".concat(V.default.state_part," ").concat(T.default.flex_column_start_center)},w.default.createElement("span",{className:V.default.title},a.orderStateValue)),(0,N.sldCommonTitle)("".concat((0,N.sldComLanguage)("\u8ba2\u5355\u4fe1\u606f")),"#333",5,15,15),w.default.createElement(F.default,{r_color:"#333",l_color:"#999",l_fontw:500,r_fontw:600,form:this.props.form,data:c}),1==a.isVirtualGoods&&w.default.createElement(w.Fragment,null,(0,N.sldCommonTitle)("".concat((0,N.sldComLanguage)("\u6536\u8d27\u4eba\u4fe1\u606f")),"#333",5,15,15),w.default.createElement(F.default,{r_color:"#333",l_color:"#999",l_fontw:500,r_fontw:600,form:this.props.form,data:o})),2==a.isVirtualGoods&&a.orderReserveList.length>0&&w.default.createElement(w.Fragment,null,(0,N.sldCommonTitle)("".concat((0,N.sldComLanguage)("\u7528\u6237\u9884\u7559\u4fe1\u606f")),"#333",5,15,15),w.default.createElement(F.default,{r_color:"#333",l_color:"#999",l_fontw:500,r_fontw:600,form:this.props.form,data:K})),(0,N.sldCommonTitle)("".concat((0,N.sldComLanguage)("\u53d1\u7968\u4fe1\u606f")),"#333",5,15,15),w.default.createElement(F.default,{r_color:"#333",l_color:"#999",l_fontw:500,r_fontw:600,form:this.props.form,data:l}),void 0!=a.orderOperateList&&void 0!=a.orderOperateList.length&&a.orderOperateList.length>0&&w.default.createElement(w.Fragment,null,(0,N.sldCommonTitle)("".concat((0,N.sldComLanguage)("\u66f4\u591a\u64cd\u4f5c\u65e5\u5fd7")),"#333",5,15,15),w.default.createElement(O.default,{totalHeight:99999999,selectedRows:[],data:{list:a.orderOperateList,pagination:{}},size:"small",rowKey:"logId",isCheck:!1,columns:this.columns_order_log,sldpagination:!1})),(0,N.sldCommonTitle)("".concat((0,N.sldComLanguage)("\u5546\u54c1\u4fe1\u606f")),"#333",5,15,15),w.default.createElement(O.default,{totalHeight:600,selectedRows:[],data:{list:a.orderProductList,pagination:{}},size:"small",rowKey:"orderProductId",isCheck:!1,columns:this.columns_order_goods,sldpagination:!1}),w.default.createElement("div",{className:"".concat(T.default.flex_row_end_center," ").concat(V.default.order_detail_total)},w.default.createElement("span",{className:V.default.amount_detail},(0,N.sldComLanguage)("\u5546\u54c1\u603b\u91d1\u989d"),"(",(0,N.sldComLanguage)("\xa5"),a.goodsAmount,") + ",(0,N.sldComLanguage)("\u8fd0\u8d39"),"(",(0,N.sldComLanguage)("\xa5"),a.expressFee,")",void 0!=a.promotionInfo&&a.promotionInfo.length>0&&a.promotionInfo.map(function(e){return" - ".concat(e.promotionName,"(").concat((0,N.sldComLanguage)("\xa5")).concat(e.discount,")")})),w.default.createElement("span",{className:V.default.amount_total}," = ",(0,N.sldComLanguage)("\u8ba2\u5355\u91d1\u989d"),"(",(0,N.sldComLanguage)("\xa5"),a.orderAmount,")")),(0,N.getSldEmptyH)(40)),w.default.createElement(M.default,{title:g,submiting:f,show_foot:p,width:_,modalVisible:L,sldHandleConfirm:function(t){return e.sldHandleConfirm(t)},sldHandleCancle:this.sldHandleCancle,formItemLayoutModal:N.formItemLayoutModal,content:b,showTopTip:C}),w.default.createElement(S.default,{centered:!0,title:(0,N.sldComLanguage)("\u5546\u54c1\u53d1\u8d27"),width:_,visible:y,onCancel:function(){return e.sldDeliverHandleCancle()},onOk:this.deliverConfirm},0==u?w.default.createElement(w.Fragment,null,w.default.createElement("div",{className:"".concat(T.default.flex_row_start_center," ").concat(T.default.sld_modal_top_tip)},w.default.createElement("div",{style:{lineHeight:0}},(0,N.sldSvgIcon)("#333",15,15,"tishi3")),w.default.createElement("span",{style:{fontSize:13,marginLeft:6}},(0,N.sldComLanguage)("\u8bf7\u8ba4\u771f\u586b\u5199\u7269\u6d41\u516c\u53f8\u53ca\u5feb\u9012\u5355\u53f7"))),(0,N.getSldEmptyH)(40)):(0,N.getSldEmptyH)(15),w.default.createElement(x.default,{layout:"horizontal"},w.default.createElement(H,(0,i.default)({label:(0,N.sldComLanguage)("\u6536\u8d27\u4eba\u59d3\u540d")},N.formItemLayoutModal),w.default.createElement("span",null,a.receiverName)),w.default.createElement(H,(0,i.default)({label:(0,N.sldComLanguage)("\u6536\u8d27\u4eba\u7535\u8bdd")},N.formItemLayoutModal),w.default.createElement("span",null,a.receiverMobile)),w.default.createElement(H,null),w.default.createElement(H,(0,i.default)({label:(0,N.sldComLanguage)("\u6536\u8d27\u4eba\u5730\u5740")},N.formItemLayoutModal),w.default.createElement("span",{style:{wordBreak:"break-all"}},a.receiverAreaInfo+" "+a.receiverAddress)),w.default.createElement(H,(0,i.default)({label:(0,N.sldComLanguage)("\u53d1\u8d27\u65b9\u5f0f")},N.formItemLayoutModal),Z("deliverType",{initialValue:0,rules:[{required:!0,message:"".concat((0,N.sldComLanguage)("\u8bf7\u9009\u62e9\u53d1\u8d27\u65b9\u5f0f"))}]})(w.default.createElement(D,{onChange:function(t){return e.redioOnChange(t)}},w.default.createElement(v.default,{value:0},(0,N.sldComLanguage)("\u7269\u6d41\u53d1\u8d27")),w.default.createElement(v.default,{value:1},(0,N.sldComLanguage)("\u65e0\u9700\u7269\u6d41"))))),"0"==this.state.deliverType?w.default.createElement(w.Fragment,null,w.default.createElement(H,(0,i.default)({label:(0,N.sldComLanguage)("\u7269\u6d41\u516c\u53f8")},N.formItemLayoutModal),Z("expressId",{initialValue:a.expressId?a.expressId:void 0,rules:[{required:!0,message:"".concat((0,N.sldComLanguage)("\u8bf7\u9009\u62e9\u7269\u6d41\u516c\u53f8"))}]})(w.default.createElement(h.default,{placeholder:(0,N.sldComLanguage)("\u8bf7\u9009\u62e9\u7269\u6d41\u516c\u53f8"),onChange:function(t){return e.handleSelExpress(t)}},E.length>0&&E.map(function(e){return w.default.createElement(R,{value:e.expressId},e.expressName)})))),w.default.createElement(H,(0,i.default)({label:(0,N.sldComLanguage)("\u5feb\u9012\u5355\u53f7")},N.formItemLayoutModal,{extra:(0,N.sldComLanguage)("\u53ef\u4ee5\u76f4\u63a5\u8f93\u5165\u7269\u6d41\u5355\u53f7\uff0c\u4e5f\u53ef\u4ee5\u70b9\u51fb\u83b7\u53d6\u7269\u6d41\u5355\u53f7\u901a\u8fc7\u7535\u5b50\u9762\u5355\u81ea\u52a8\u83b7\u53d6\u7269\u6d41\u5355\u53f7")}),Z("expressNumber",{initialValue:z,rules:[{required:!0,whitespace:!0,message:"".concat((0,N.sldComLanguage)("\u8bf7\u8f93\u5165\u7269\u6d41\u5355\u53f7"))},{pattern:/^[0-9a-zA-Z]*$/g,message:"".concat((0,N.sldComLanguage)("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5355\u53f7"))}]})(w.default.createElement("div",{className:"".concat(T.default.flex_row_start_center),style:{position:"relative"}},w.default.createElement(d.default,{onChange:function(t){return e.handleInputExpressNum(t)},maxLength:20,placeholder:(0,N.sldComLanguage)("\u8bf7\u8f93\u5165\u7269\u6d41\u5355\u53f7"),value:z}),X?w.default.createElement("a",{className:"".concat(V.default.free_freight," ").concat(V.default.get_exter_face_sheet_btn),onClick:function(){return e.printExterFaceSheetBtn()}},"\u6253\u5370\u7535\u5b50\u9762\u5355"):j?w.default.createElement("a",{className:"".concat(V.default.free_freight," ").concat(V.default.get_exter_face_sheet_btn),onClick:function(){return e.getExterFaceSheetBtn()}},"\u83b7\u53d6\u7269\u6d41\u5355\u53f7"):null)))):null,"1"==this.state.deliverType?w.default.createElement(w.Fragment,null,w.default.createElement(H,(0,i.default)({label:(0,N.sldComLanguage)("\u8054\u7cfb\u4eba")},N.formItemLayoutModal),Z("deliverName",{rules:[{required:!0,whitespace:!0,message:"".concat((0,N.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba"))}]})(w.default.createElement(d.default,{maxLength:10,placeholder:(0,N.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba")}))),w.default.createElement(H,(0,i.default)({label:(0,N.sldComLanguage)("\u8054\u7cfb\u65b9\u5f0f")},N.formItemLayoutModal),Z("deliverMobile",{rules:[{required:!0,whitespace:!0,message:"".concat((0,N.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u65b9\u5f0f"))},{pattern:N.mobile_reg,message:"".concat((0,N.sldComLanguage)("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"))}]})(w.default.createElement(d.default,{maxLength:11,placeholder:(0,N.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u65b9\u5f0f")})))):null)),w.default.createElement(M.default,{title:q,submiting:P,width:500,modalVisible:G,sldHandleConfirm:function(t){return e.sldHandleSecondConfirm(t)},sldHandleCancle:this.sldHandleSecondCancle,formItemLayoutModal:N.formItemLayoutModal,content:J}),w.default.createElement(S.default,{centered:!0,title:(0,N.sldComLanguage)("\u4fee\u6539\u4ef7\u683c"),width:400,visible:k,onCancel:function(t){return e.sldHandleSecondCancle(t)},onOk:function(t){return e.sldHandleConfirmPrice(t)},footer:[w.default.createElement(n.default,{key:"back",onClick:function(t){return e.sldHandleSecondCancle(t)}},(0,N.sldComLanguage)("\u53d6\u6d88")),w.default.createElement(n.default,{key:"submit",type:"primary",loading:B,onClick:function(t){return e.sldHandleConfirmPrice(t)}},(0,N.sldComLanguage)("\u786e\u5b9a"))]},w.default.createElement("div",{className:"".concat(T.default.flex_row_start_center),style:{width:400,padding:"6px 15px",marginBottom:8,backgroundColor:"#FFF9E2",position:"absolute",top:42,left:0}},w.default.createElement("div",{style:{lineHeight:0}},(0,N.sldSvgIcon)("#333",15,15,"tishi3")),w.default.createElement("span",{style:{fontSize:13,marginLeft:6}},(0,N.sldComLanguage)("\u53ea\u6709\u8ba2\u5355\u672a\u4ed8\u6b3e\u65f6\u624d\u652f\u6301\u6539\u4ef7"))),(0,N.getSldEmptyH)(40),w.default.createElement(x.default,{layout:"horizontal"},w.default.createElement(H,(0,i.default)({label:(0,N.sldComLanguage)("\u8ba2\u5355\u4ef7\u683c(\xa5)")},N.formItemLayoutModal,{extra:(0,N.sldComLanguage)("\u4e0d\u542b\u8fd0\u8d39"),style:{width:350,marginLeft:60}}),Z("moneyAmount",{initialValue:a.moneyAmount,rules:[{required:!0,message:"".concat((0,N.sldComLanguage)("\u8ba2\u5355\u4ef7\u683c\u4e0d\u53ef\u4e3a\u7a7a"))}]})(w.default.createElement(r.default,{style:{width:120},min:.01,max:9999999.99,precision:2,step:1,placeholder:""}))),w.default.createElement(H,(0,i.default)({label:(0,N.sldComLanguage)("\u8fd0\u8d39(\xa5)")},N.formItemLayoutModal,{style:{width:330,marginLeft:65}}),Z("expressFee",{initialValue:A,rules:[{required:!0,message:"".concat((0,N.sldComLanguage)("\u8fd0\u8d39\u4e0d\u53ef\u4e3a\u7a7a"))}]})(w.default.createElement("div",{className:"".concat(T.default.flex_row_start_center)},w.default.createElement(r.default,{value:A,onChange:function(t){return e.handleChangeVal(t)},style:{width:120},min:0,max:9999999.99,precision:2,step:1,placeholder:""}),w.default.createElement("a",{className:"".concat(V.default.free_freight),onClick:function(){return e.freeExpress()}},"\u514d\u8fd0\u8d39")))))))}}]),t}(w.Component),b=y))||b)||b);t.default=B}}]);