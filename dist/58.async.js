(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[58],{"+ToP":function(e,a,t){"use strict";var l=t("g09b"),n=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("+L6B");var o=l(t("2/Rp")),i=l(t("p0pE")),r=l(t("d6i3")),s=l(t("1l/V")),p=l(t("eHn4")),u=l(t("2Taf")),d=l(t("vZ4D")),m=l(t("l4Ni")),c=l(t("ujKo")),g=l(t("MhPg"));t("y8nQ");var _,f,h,L,y=l(t("Vl3Y")),C=t("MuoO"),b=n(t("q1tI")),w=t("+n12"),v=l(t("N9Eh")),U=l(t("nBFA")),P=t("UWOa"),I=l(t("fjb3")),x=t("k82f"),A=l(t("zw2x")),Q=(_=(0,C.connect)(function(e){var a=e.settled;return{settled:a}}),f=y.default.create(),_(h=f((L=function(e){function a(e){var t;return(0,u.default)(this,a),t=(0,m.default)(this,(0,c.default)(a).call(this,e)),t.sel_area_name="",t.getAreaInfo=function(e){for(var a in t.sel_area_name="",e)t.sel_area_name+=e[a].regionName},t.handleApplyType=function(e){t.setState({cur_apply_type:e})},t.uploadImg=function(e,a,l){var n=t.state[e];if(void 0!=l.file.status&&"error"!=l.file.status){for(var o in n)if(n[o].name==a){n[o].fileList=l.fileList;break}t.setState((0,p.default)({},e,n))}},t.initData=(0,s.default)(r.default.mark(function e(){var a,l,n,o,i,s,p,u,d,m,c,g,_,f;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.state,l=a.cur_apply_type,n=a.apply_type,o=a.personal_base_info,i=a.personal_front_card_img,s=a.personal_back_card_img,p=a.company_base_info,u=a.business_license_img,d=a.legal_front_card_img,m=a.legal_back_card_img,c=a.replenish_1_img,g=a.replenish_2_img,_=a.replenish_3_img,a.show_apply_type_flag,f=(0,w.getSettleData)("baseInfo"),f){e.next=5;break}return t.setState({show_apply_type_flag:!0}),e.abrupt("return",!1);case 5:l=f.enterType,n[0].initialValue=l,0==l?(o.map(function(e){e.initialValue=f[e.name]}),i[0].fileList.push({response:{data:{path:f.personCardUp,url:f.personCardUpUrl}},name:f.personCardUp,uid:f.personCardUp,status:"done",thumbUrl:f.personCardUpUrl}),s[0].fileList.push({response:{data:{path:f.personCardDown,url:f.personCardDownUrl}},name:f.personCardDown,uid:f.personCardDown,status:"done",thumbUrl:f.personCardDownUrl})):(p.map(function(e){e.initialValue=f[e.name]}),u[0].fileList.push({response:{data:{path:f.businessLicenseImage,url:f.businessLicenseImageUrl}},name:f.businessLicenseImage,uid:f.businessLicenseImage,status:"done",thumbUrl:f.businessLicenseImageUrl}),d[0].fileList.push({response:{data:{path:f.personCardUp,url:f.personCardUpUrl}},name:f.personCardUp,uid:f.personCardUp,status:"done",thumbUrl:f.personCardUpUrl}),m[0].fileList.push({response:{data:{path:f.personCardDown,url:f.personCardDownUrl}},name:f.personCardDown,uid:f.personCardDown,status:"done",thumbUrl:f.personCardDownUrl}),f.moreQualification1&&c[0].fileList.push({response:{data:{path:f.moreQualification1,url:f.moreQualification1Url}},name:f.moreQualification1,uid:f.moreQualification1,status:"done",thumbUrl:f.moreQualification1Url}),f.moreQualification2&&g[0].fileList.push({response:{data:{path:f.moreQualification2,url:f.moreQualification2Url}},name:f.moreQualification2,uid:f.moreQualification2,status:"done",thumbUrl:f.moreQualification2Url}),f.moreQualification3&&_[0].fileList.push({response:{data:{path:f.moreQualification3,url:f.moreQualification3Url}},name:f.moreQualification3,uid:f.moreQualification3,status:"done",thumbUrl:f.moreQualification3Url})),t.setState({cur_apply_type:l,apply_type:n,personal_base_info:o,personal_front_card_img:i,personal_back_card_img:s,company_base_info:p,legal_front_card_img:d,business_license_img:u,legal_back_card_img:m,replenish_1_img:c,replenish_2_img:g,replenish_3_img:_,show_apply_type_flag:!0});case 9:case"end":return e.stop()}},e)})),t.uploadImgPre=function(e){t.viewImg(!0,e.url||e.thumbUrl)},t.viewImg=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.setState({preview_img:a,preview_alt_con:l,show_preview_modal:e})},t.handleNextStep=function(e){e.preventDefault();var a=t.state,l=a.cur_apply_type,n=a.personal_front_card_img,o=a.personal_back_card_img,r=a.business_license_img,s=a.legal_front_card_img,p=a.legal_back_card_img,u=a.replenish_1_img,d=a.replenish_2_img,m=a.replenish_3_img;t.props.form.validateFieldsAndScroll(function(e,a){if(!e){var c={},g={};if(c.enterType=a.enterType,c.companyProvinceCode=a.area[0],c.companyCityCode=a.area[1],c.companyAreaCode=a.area[2],g.area=a.area,g.areaInfo=t.sel_area_name,c.areaInfo=t.sel_area_name,c.companyAddress=a.companyAddress,c.contactName=a.contactName,c.contactPhone=a.contactPhone,0==l){if(0==n[0].fileList.length)return(0,w.failTip)("".concat((0,w.sldComLanguage)("\u8bf7\u4e0a\u4f20\u8eab\u4efd\u8bc1\u6b63\u9762\u56fe\u7247"))),!1;if(c.personCardUp=n[0].fileList[0].response.data.path,g.personCardUpUrl=n[0].fileList[0].response.data.url,0==o[0].fileList.length)return(0,w.failTip)("".concat((0,w.sldComLanguage)("\u8bf7\u4e0a\u4f20\u8eab\u4efd\u8bc1\u53cd\u9762\u56fe\u7247"))),!1;c.personCardDown=o[0].fileList[0].response.data.path,g.personCardDownUrl=o[0].fileList[0].response.data.url}else{if(c.companyName=a.companyName,0==r[0].fileList.length)return(0,w.failTip)("".concat((0,w.sldComLanguage)("\u8bf7\u4e0a\u4f20\u8425\u4e1a\u6267\u7167\u56fe\u7247"))),!1;if(c.businessLicenseImage=r[0].fileList[0].response.data.path,g.businessLicenseImageUrl=r[0].fileList[0].response.data.url,0==s[0].fileList.length)return(0,w.failTip)("".concat((0,w.sldComLanguage)("\u8bf7\u4e0a\u4f20\u6cd5\u4eba\u8eab\u4efd\u8bc1\u6b63\u9762\u56fe\u7247"))),!1;if(c.personCardUp=s[0].fileList[0].response.data.path,g.personCardUpUrl=s[0].fileList[0].response.data.url,0==p[0].fileList.length)return(0,w.failTip)("".concat((0,w.sldComLanguage)("\u8bf7\u4e0a\u4f20\u6cd5\u4eba\u8eab\u4efd\u8bc1\u53cd\u9762\u56fe\u7247"))),!1;c.personCardDown=p[0].fileList[0].response.data.path,g.personCardDownUrl=p[0].fileList[0].response.data.url,u[0].fileList.length>0&&(c.moreQualification1=u[0].fileList[0].response.data.path,g.moreQualification1Url=u[0].fileList[0].response.data.url),d[0].fileList.length>0&&(c.moreQualification2=d[0].fileList[0].response.data.path,g.moreQualification2Url=d[0].fileList[0].response.data.url),m[0].fileList.length>0&&(c.moreQualification3=m[0].fileList[0].response.data.path,g.moreQualification3Url=m[0].fileList[0].response.data.url)}g=(0,i.default)({},g,c),sessionStorage.setItem("baseInfo",JSON.stringify(c)),(0,w.saveSettleData)("baseInfo",JSON.stringify(g)),1*(0,w.getSettleData)("cur_step")<2&&(0,w.saveSettleData)("cur_step",2),t.props.history.push("/apply/business_info")}})},t.state={modal_width:800,show_preview_modal:!1,preview_img:"",preview_alt_con:"",cur_apply_type:0,show_apply_type_flag:!1,apply_type:[{type:"radio",label:"".concat((0,w.sldComLanguage)("\u5165\u9a7b\u7c7b\u578b")),name:"enterType",placeholder:"",width:250,required:!0,sel_data:[{name:"".concat((0,w.sldComLanguage)("\u4e2a\u4eba\u5165\u9a7b")),key:0},{name:"".concat((0,w.sldComLanguage)("\u4f01\u4e1a\u5165\u9a7b")),key:1}],initialValue:0,onChange:t.handleApplyType}],personal_base_info:[{type:"cascader_common",label:"".concat((0,w.sldComLanguage)("\u6240\u5728\u5730")),name:"area",width:"80%",data:A.default,fieldNames:{label:"regionName",value:"regionCode",children:"children"},placeholder:"".concat((0,w.sldComLanguage)("\u8bf7\u9009\u62e9\u5e97\u94fa\u6240\u5728\u5730")),initialValue:[],required:!0,onChange:t.getAreaInfo,rules:[{required:!0,message:"".concat((0,w.sldComLanguage)("\u8bf7\u9009\u62e9\u5e97\u94fa\u6240\u5728\u5730"))}]},{type:"textarea",maxLength:40,label:"".concat((0,w.sldComLanguage)("\u8be6\u7ec6\u5730\u5740")),name:"companyAddress",placeholder:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u5e97\u94fa\u8be6\u7ec6\u5730\u5740,\u6700\u591a40\u5b57")),initialValue:"",required:!0,rules:[{required:!0,message:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u8be6\u7ec6\u5730\u5740"))}]},{type:"input",maxLength:6,label:"".concat((0,w.sldComLanguage)("\u8054\u7cfb\u4eba")),name:"contactName",placeholder:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u59d3\u540d,\u6700\u591a6\u4e2a\u5b57")),initialValue:"",required:!0,rules:[{required:!0,message:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u59d3\u540d"))}]},{type:"input",label:"".concat((0,w.sldComLanguage)("\u8054\u7cfb\u4eba\u624b\u673a\u53f7")),name:"contactPhone",placeholder:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u624b\u673a\u53f7")),initialValue:"",required:!0,rules:[{required:!0,message:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u624b\u673a\u53f7"))},{pattern:w.mobile_reg,message:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"))}]}],personal_front_card_img:[{type:"upload_img_upload",label:"".concat((0,w.sldComLanguage)("\u8eab\u4efd\u8bc1\u6b63\u9762")),name:"personCardUp",extra:"".concat((0,w.sldComLanguage)("\u652f\u6301JPG/PNG,\u5927\u5c0f\u4e0d\u8d85\u8fc720M")),fileList:[],upload_name:"file",upload_url:P.apiUrl+"v3/oss/common/upload?source=sellerApply",uploadPreview:t.uploadImgPre,uploadChange:function(e){return t.uploadImg("personal_front_card_img","personCardUp",e)},initialValue:"",img_succ_info:{},required:!0,num:1,item_height:130}],personal_back_card_img:[{type:"upload_img_upload",label:"".concat((0,w.sldComLanguage)("\u8eab\u4efd\u8bc1\u53cd\u9762")),name:"personCardDown",extra:"".concat((0,w.sldComLanguage)("\u652f\u6301JPG/PNG,\u5927\u5c0f\u4e0d\u8d85\u8fc720M")),fileList:[],upload_name:"file",upload_url:P.apiUrl+"v3/oss/common/upload?source=sellerApply",uploadPreview:t.uploadImgPre,uploadChange:function(e){return t.uploadImg("personal_back_card_img","personCardDown",e)},initialValue:"",img_succ_info:{},required:!0,num:1,item_height:130}],company_base_info:[{type:"input",maxLength:20,label:"".concat((0,w.sldComLanguage)("\u516c\u53f8\u540d\u79f0")),name:"companyName",placeholder:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0,\u6700\u591a20\u4e2a\u5b57")),initialValue:"",required:!0,rules:[{required:!0,message:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"))}]},{type:"cascader_common",label:"".concat((0,w.sldComLanguage)("\u6240\u5728\u5730")),name:"area",width:"80%",data:A.default,fieldNames:{label:"regionName",value:"regionCode",children:"children"},placeholder:"".concat((0,w.sldComLanguage)("\u8bf7\u9009\u62e9\u5e97\u94fa\u6240\u5728\u5730")),initialValue:[],required:!0,onChange:t.getAreaInfo,rules:[{required:!0,message:"".concat((0,w.sldComLanguage)("\u8bf7\u9009\u62e9\u5e97\u94fa\u6240\u5728\u5730"))}]},{type:"textarea",maxLength:40,label:"".concat((0,w.sldComLanguage)("\u8be6\u7ec6\u5730\u5740")),name:"companyAddress",placeholder:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u5e97\u94fa\u8be6\u7ec6\u5730\u5740,\u6700\u591a40\u5b57")),initialValue:"",required:!0,rules:[{required:!0,message:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u8be6\u7ec6\u5730\u5740"))}]},{type:"input",maxLength:6,label:"".concat((0,w.sldComLanguage)("\u8054\u7cfb\u4eba")),name:"contactName",placeholder:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u59d3\u540d,\u6700\u591a6\u4e2a\u5b57")),initialValue:"",required:!0,rules:[{required:!0,message:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u59d3\u540d"))}]},{type:"input",label:"".concat((0,w.sldComLanguage)("\u8054\u7cfb\u4eba\u624b\u673a\u53f7")),name:"contactPhone",placeholder:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u624b\u673a\u53f7")),initialValue:"",required:!0,rules:[{required:!0,message:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u624b\u673a\u53f7"))},{pattern:w.mobile_reg,message:"".concat((0,w.sldComLanguage)("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"))}]}],business_license_img:[{type:"upload_img_upload",label:"".concat((0,w.sldComLanguage)("\u8425\u4e1a\u6267\u7167")),name:"businessLicenseImage",extra:"".concat((0,w.sldComLanguage)("\u652f\u6301JPG/PNG,\u5927\u5c0f\u4e0d\u8d85\u8fc720M")),fileList:[],upload_name:"file",upload_url:P.apiUrl+"v3/oss/common/upload?source=sellerApply",uploadPreview:t.uploadImgPre,uploadChange:function(e){return t.uploadImg("business_license_img","businessLicenseImage",e)},initialValue:"",img_succ_info:{},required:!0,num:1,item_height:130}],legal_front_card_img:[{type:"upload_img_upload",label:"".concat((0,w.sldComLanguage)("\u8eab\u4efd\u8bc1\u6b63\u9762")),name:"personCardUp",extra:"".concat((0,w.sldComLanguage)("\u652f\u6301JPG/PNG,\u5927\u5c0f\u4e0d\u8d85\u8fc720M")),fileList:[],upload_name:"file",upload_url:P.apiUrl+"v3/oss/common/upload?source=sellerApply",uploadPreview:t.uploadImgPre,uploadChange:function(e){return t.uploadImg("legal_front_card_img","personCardUp",e)},initialValue:"",img_succ_info:{},required:!0,num:1,item_height:130}],legal_back_card_img:[{type:"upload_img_upload",label:"".concat((0,w.sldComLanguage)("\u8eab\u4efd\u8bc1\u53cd\u9762")),name:"personCardDown",extra:"".concat((0,w.sldComLanguage)("\u652f\u6301JPG/PNG,\u5927\u5c0f\u4e0d\u8d85\u8fc720M")),fileList:[],upload_name:"file",upload_url:P.apiUrl+"v3/oss/common/upload?source=sellerApply",uploadPreview:t.uploadImgPre,uploadChange:function(e){return t.uploadImg("legal_back_card_img","personCardDown",e)},initialValue:"",img_succ_info:{},required:!0,num:1,item_height:130}],replenish_1_img:[{type:"upload_img_upload",label:"".concat((0,w.sldComLanguage)("\u8865\u5145\u8ba4\u8bc1\u4e00")),name:"moreQualification1",extra:"".concat((0,w.sldComLanguage)("\u652f\u6301JPG/PNG,\u5927\u5c0f\u4e0d\u8d85\u8fc720M")),fileList:[],upload_name:"file",upload_url:P.apiUrl+"v3/oss/common/upload?source=sellerApply",uploadPreview:t.uploadImgPre,uploadChange:function(e){return t.uploadImg("replenish_1_img","moreQualification1",e)},initialValue:"",img_succ_info:{},num:1,item_height:130}],replenish_2_img:[{type:"upload_img_upload",label:"".concat((0,w.sldComLanguage)("\u8865\u5145\u8ba4\u8bc1\u4e8c")),name:"moreQualification2",extra:"".concat((0,w.sldComLanguage)("\u652f\u6301JPG/PNG,\u5927\u5c0f\u4e0d\u8d85\u8fc720M")),fileList:[],upload_name:"file",upload_url:P.apiUrl+"v3/oss/common/upload?source=sellerApply",uploadPreview:t.uploadImgPre,uploadChange:function(e){return t.uploadImg("replenish_2_img","moreQualification2",e)},initialValue:"",img_succ_info:{},num:1,item_height:130}],replenish_3_img:[{type:"upload_img_upload",label:"".concat((0,w.sldComLanguage)("\u8865\u5145\u8ba4\u8bc1\u4e09")),name:"moreQualification3",extra:"".concat((0,w.sldComLanguage)("\u652f\u6301JPG/PNG,\u5927\u5c0f\u4e0d\u8d85\u8fc720M")),fileList:[],upload_name:"file",upload_url:P.apiUrl+"v3/oss/common/upload?source=sellerApply",uploadPreview:t.uploadImgPre,uploadChange:function(e){return t.uploadImg("replenish_3_img","moreQualification3",e)},initialValue:"",img_succ_info:{},num:1,item_height:130}]},t}return(0,g.default)(a,e),(0,d.default)(a,[{key:"componentDidMount",value:function(){this.initData()}},{key:"render",value:function(){var e=this,a=this.state,t=a.personal_base_info,l=a.apply_type,n=a.personal_front_card_img,i=a.personal_back_card_img,r=a.preview_img,s=a.show_preview_modal,p=a.modal_width,u=a.preview_alt_con,d=a.cur_apply_type,m=a.company_base_info,c=a.business_license_img,g=a.legal_front_card_img,_=a.legal_back_card_img,f=a.replenish_1_img,h=a.replenish_2_img,L=a.replenish_3_img,y=a.show_apply_type_flag;return b.default.createElement("div",{style:{flex:1}},b.default.createElement("div",{className:v.default.title},(0,w.sldLlineRtextAddGoodsAddMargin)("#69A2F2","".concat((0,w.sldComLanguage)("\u5e97\u94fa\u4fe1\u606f")),0,0,5)),(0,w.getSldHorLine)(1),(0,w.getSldEmptyH)(10),b.default.createElement(x.Scrollbars,{autoHeight:!0,autoHeightMin:100,autoHeightMax:document.body.clientHeight-130},(0,w.sldApplyTitleByBg)("".concat((0,w.sldComLanguage)("\u5165\u9a7b\u7c7b\u578b"))),y&&b.default.createElement(U.default,{form:this.props.form,data:l}),0==d&&b.default.createElement(b.Fragment,null,(0,w.sldApplyTitleByBg)("".concat((0,w.sldComLanguage)("\u5e97\u94fa\u8054\u7cfb\u4eba\u4fe1\u606f"))),(0,w.getSldEmptyH)(10),b.default.createElement(U.default,{form:this.props.form,data:t}),(0,w.sldApplyTitleByBg)("".concat((0,w.sldComLanguage)("\u8eab\u4efd\u8bc1\u4fe1\u606f"))),(0,w.getSldEmptyH)(10),b.default.createElement(U.default,{form:this.props.form,data:n}),b.default.createElement(U.default,{form:this.props.form,data:i})),1==d&&b.default.createElement(b.Fragment,null,(0,w.sldApplyTitleByBg)("".concat((0,w.sldComLanguage)("\u516c\u53f8\u8054\u7cfb\u4eba\u4fe1\u606f"))),(0,w.getSldEmptyH)(10),b.default.createElement(U.default,{form:this.props.form,data:m}),(0,w.sldApplyTitleByBg)("".concat((0,w.sldComLanguage)("\u8425\u4e1a\u6267\u7167\u4fe1\u606f"))),(0,w.getSldEmptyH)(10),b.default.createElement(U.default,{form:this.props.form,data:c}),(0,w.sldApplyTitleByBg)("".concat((0,w.sldComLanguage)("\u6cd5\u4eba\u8eab\u4efd\u4fe1\u606f"))),(0,w.getSldEmptyH)(10),b.default.createElement(U.default,{form:this.props.form,data:g}),b.default.createElement(U.default,{form:this.props.form,data:_}),(0,w.sldApplyTitleByBg)("".concat((0,w.sldComLanguage)("\u8865\u5145\u8ba4\u8bc1\u4fe1\u606f"))),(0,w.getSldEmptyH)(10),b.default.createElement(U.default,{form:this.props.form,data:f}),b.default.createElement(U.default,{form:this.props.form,data:h}),b.default.createElement(U.default,{form:this.props.form,data:L})),((0,w.getSettleData)("state")&&3==(0,w.getSettleData)("state")||!(0,w.getSettleData)("state"))&&b.default.createElement("div",{className:v.default.commen_wrap,style:{borderTopRightRadius:0,borderTopLeftRadius:0,marginTop:-30,paddingBottom:20}},b.default.createElement(o.default,{type:"primary",onClick:this.handleNextStep,className:v.default.next_step},"\u4e0b\u4e00\u6b65")),(0,w.getSldEmptyH)(10),b.default.createElement(I.default,{img:r,show_preview_modal:s,modal_width:p,preview_alt_con:u,closePreviewModal:function(){return e.viewImg(!1)}})))}}]),a}(b.Component),h=L))||h)||h);a.default=Q},N9Eh:function(e,a,t){e.exports={title:"antd-pro\\pages\\settled-manage\\base-info\\index-title",third_party:"antd-pro\\pages\\settled-manage\\base-info\\index-third_party",content:"antd-pro\\pages\\settled-manage\\base-info\\index-content",commen_wrap:"antd-pro\\pages\\settled-manage\\base-info\\index-commen_wrap",commen_title:"antd-pro\\pages\\settled-manage\\base-info\\index-commen_title",next_step:"antd-pro\\pages\\settled-manage\\base-info\\index-next_step"}}}]);