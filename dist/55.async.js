(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[55],{JGr0:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV"));a("+L6B");var o=l(a("2/Rp")),d=l(a("eHn4")),s=l(a("2Taf")),c=l(a("vZ4D")),i=l(a("l4Ni")),u=l(a("ujKo")),m=l(a("MhPg"));a("y8nQ");var f,g,p,h,S=l(a("Vl3Y")),_=a("MuoO"),v=n(a("q1tI")),y=a("+n12"),x=l(a("hh8c")),C=l(a("CkN6")),w=(f=(0,_.connect)(function(e){var t=e.order;return{order:t}}),g=S.default.create(),f(p=g((h=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,i.default)(this,(0,u.default)(t).call(this,e)),a.resizeTable=function(e,t,l,n){var r=(0,y.dragSldTableColumn)(e,t,n);a.setState((0,d.default)({},l,r))},a.exterFaceSheetCancle=function(){a.props.operateExterFaceSheetOptShowFlag()},a.exterFaceSheetConfirm=function(){var e=a.props,t=e.dispatch,l=e.allowPrintOrderSnArray;t({type:"order/print_exter_face_sheet",payload:{orderSns:l.join(",")},callback:function(e){200==e.state?(e.data&&window.open(e.data,"_blank"),a.exterFaceSheetCancle()):(0,y.failTip)(e.msg)}})},a.state={exterFaceSheetModalWidth:500,exterFaceSheetSubmiting:!1,columns:[{title:" ",dataIndex:"orderSn",align:"center",width:55,render:function(e,t,a){return a+1}},{title:"".concat((0,y.sldComLanguage)("\u8ba2\u5355\u53f7")),dataIndex:"orderSn",align:"center",width:100},{title:"".concat((0,y.sldComLanguage)("\u662f\u5426\u53d7\u9650")),dataIndex:"restrict",align:"center",width:150},{title:"".concat((0,y.sldComLanguage)("\u53d7\u9650\u539f\u56e0")),dataIndex:"restrictReason",align:"center",width:200}]},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.columns,l=t.exterFaceSheetModalWidth,n=t.exterFaceSheetSubmiting,d=this.props,s=d.exterFaceSheetOptShowFlag,c=d.orderData,i=d.allowPrintOrderSnArray;return v.default.createElement(r.default,{centered:!0,title:(0,y.sldComLanguage)("\u6279\u91cf\u6253\u5370\u7535\u5b50\u9762\u5355"),width:l,visible:s,onCancel:function(){return e.exterFaceSheetCancle()},footer:i.length>0?[v.default.createElement(o.default,{key:"back",onClick:function(){return e.exterFaceSheetCancle()}},(0,y.sldComLanguage)("\u53d6\u6d88")),v.default.createElement(o.default,{key:"submit",type:"primary",loading:n,onClick:function(t){return e.exterFaceSheetConfirm(t)}},(0,y.sldComLanguage)("\u7ee7\u7eed"))]:[v.default.createElement(o.default,{key:"submit",type:"primary",onClick:function(){return e.exterFaceSheetCancle()}},(0,y.sldComLanguage)("\u6211\u77e5\u9053\u4e86"))]},v.default.createElement("div",{className:"".concat(x.default.flex_row_start_center," ").concat(x.default.sld_modal_top_tip)},v.default.createElement("div",{style:{lineHeight:0}},(0,y.sldSvgIcon)("#333",15,15,"tishi3")),v.default.createElement("span",{style:{fontSize:13,marginLeft:6}},(0,y.sldComLanguage)("\u6e29\u99a8\u63d0\u793a\uff1a"),i.length>0?(0,y.sldComLanguage)("\u70b9\u51fb\u7ee7\u7eed\u64cd\u4f5c\u53ea\u6253\u5370\u7b26\u5408\u6761\u4ef6\u7684\u8bb0\u5f55"):(0,y.sldComLanguage)("\u6ca1\u6709\u7b26\u5408\u6761\u4ef6\u7684\u8bb0\u5f55\uff0c\u65e0\u6cd5\u6253\u5370"))),(0,y.getSldEmptyH)(40),v.default.createElement(C.default,{selectedRows:[],data:{list:c,pagination:{}},rowKey:"orderSn",isCheck:!1,columns:a,onSelectRow:null,onChange:null,onSldHandleSeleRow:null,resizeTable:function(t,l){return e.resizeTable(t,l,"columns",a)},isColumnResize:!0,sldpagination:!1}),(0,y.getSldEmptyH)(10))}}]),t}(v.Component),p=h))||p)||p);t.default=w},tfP3:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV")),o=l(a("jehZ"));a("OaEy");var d=l(a("2fM7"));a("+L6B");var s=l(a("2/Rp")),c=l(a("p0pE")),i=l(a("eHn4")),u=l(a("2Taf")),m=l(a("vZ4D")),f=l(a("l4Ni")),g=l(a("ujKo")),p=l(a("MhPg"));a("y8nQ");var h,S,_,v,y=l(a("Vl3Y")),x=a("MuoO"),C=n(a("q1tI")),w=a("+n12"),E=l(a("hh8c")),L=l(a("CkN6")),b=y.default.Item,F=(h=(0,x.connect)(function(e){var t=e.order,a=e.common;return{order:t,common:a}}),S=y.default.create(),h(_=S((v=function(e){function t(e){var a;return(0,u.default)(this,t),a=(0,f.default)(this,(0,g.default)(t).call(this,e)),a.resizeTable=function(e,t,l,n){var r=(0,w.dragSldTableColumn)(e,t,n);a.setState((0,i.default)({},l,r))},a.exterFaceSheetCancle=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.props.operateExterFaceSheetOptShowFlag(e),a.setState({step:1,data:[]})},a.exterFaceSheetConfirm=function(){a.props.form.validateFieldsAndScroll(["expressId"],function(e,t){if(!e){var l=a.state,n=l.step,r=l.data,o=a.props,d=o.dispatch,s=o.orderData;a.setState({exterFaceSheetSubmiting:!0}),d({type:"order/create_exter_face_sheet",payload:(0,c.default)({},t,{orderSns:s.join(",")}),callback:function(e){200==e.state?void 0!=e.data.length&&e.data.length?(n=2,r=e.data):((0,w.sucTip)(e.msg),a.exterFaceSheetCancle(!0)):(0,w.failTip)(e.msg),a.setState({exterFaceSheetSubmiting:!1,step:n,data:r})}})}})},a.state={step:1,exterFaceSheetModalTitle:"\u6279\u91cf\u751f\u6210\u7535\u5b50\u9762\u5355",exterFaceSheetModalWidth:500,exterFaceSheetModalVisible:!1,exterFaceSheetSubmiting:!1,data:[],title:"",type:"add",columns:[{title:" ",dataIndex:"orderSn",align:"center",width:55,render:function(e,t,a){return a+1}},{title:"".concat((0,w.sldComLanguage)("\u8ba2\u5355\u53f7")),dataIndex:"orderSn",align:"center",width:100},{title:"".concat((0,w.sldComLanguage)("\u662f\u5426\u53d7\u9650")),dataIndex:"restrict",align:"center",width:150},{title:"".concat((0,w.sldComLanguage)("\u53d7\u9650\u539f\u56e0")),dataIndex:"restrictReason",align:"center",width:200}]},a}return(0,p.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,l=a.columns,n=a.exterFaceSheetModalTitle,c=a.exterFaceSheetModalWidth,i=a.exterFaceSheetSubmiting,u=a.step,m=a.data,f=this.props,g=f.exterFaceSheetOptShowFlag,p=f.expressList;return C.default.createElement(r.default,{centered:!0,title:n,width:c,visible:g,onCancel:function(){return e.exterFaceSheetCancle()},footer:1==u?[C.default.createElement(s.default,{key:"back",onClick:function(){return e.exterFaceSheetCancle()}},(0,w.sldComLanguage)("\u53d6\u6d88")),C.default.createElement(s.default,{key:"submit",type:"primary",loading:i,onClick:function(t){return e.exterFaceSheetConfirm(t)}},(0,w.sldComLanguage)("\u7ee7\u7eed"))]:[C.default.createElement(s.default,{key:"submit",type:"primary",onClick:function(){return e.exterFaceSheetCancle()}},(0,w.sldComLanguage)("\u6211\u77e5\u9053\u4e86"))]},2==u&&C.default.createElement(C.Fragment,null,C.default.createElement("div",{className:"".concat(E.default.flex_row_start_center," ").concat(E.default.sld_modal_top_tip)},C.default.createElement("div",{style:{lineHeight:0}},(0,w.sldSvgIcon)("#333",15,15,"tishi3")),C.default.createElement("span",{style:{fontSize:13,marginLeft:6}},(0,w.sldComLanguage)("\u6e29\u99a8\u63d0\u793a"),"\uff1a",(0,w.sldComLanguage)("\u4ee5\u4e0b\u662f\u6279\u91cf\u751f\u6210\u7535\u5b50\u9762\u5355\u51fa\u9519\u7684\u6570\u636e\uff0c\u8bf7\u67e5\u770b\u5177\u4f53\u539f\u56e0"))),(0,w.getSldEmptyH)(40)),1==u&&C.default.createElement(y.default,{layout:"horizontal"},C.default.createElement(b,(0,o.default)({label:(0,w.sldComLanguage)("\u7269\u6d41\u516c\u53f8")},w.formItemLayoutModal),t("expressId",{rules:[{required:!0,message:"".concat((0,w.sldComLanguage)("\u8bf7\u9009\u62e9\u7269\u6d41\u516c\u53f8"))}]})(C.default.createElement(d.default,{placeholder:(0,w.sldComLanguage)("\u8bf7\u9009\u62e9\u7269\u6d41\u516c\u53f8")},p.length>0&&p.map(function(e){return C.default.createElement(Option,{value:e.expressId},e.expressName)}))))),2==u&&m.length&&C.default.createElement(L.default,{selectedRows:[],data:{list:m,pagination:{}},rowKey:"orderSn",isCheck:!1,columns:l,onSelectRow:null,onChange:null,onSldHandleSeleRow:null,resizeTable:function(t,a){return e.resizeTable(t,a,"columns",l)},isColumnResize:!0,sldpagination:!1}))}}]),t}(C.Component),_=v))||_)||_);t.default=F},ty0a:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV"));a("5NDa");var o=l(a("5rEg")),d=l(a("jehZ"));a("T2oS");var s=l(a("W9HT"));a("DjyN");var c=l(a("NUBc"));a("P2fV");var i=l(a("NJEC"));a("R9oj");var u=l(a("ECub")),m=l(a("eHn4")),f=l(a("p0pE")),g=l(a("2Taf")),p=l(a("vZ4D")),h=l(a("l4Ni")),S=l(a("ujKo")),_=l(a("rlhR")),v=l(a("MhPg"));a("OaEy");var y=l(a("2fM7"));a("7Kak");var x=l(a("9yH6"));a("y8nQ");var C,w,E,L,b=l(a("Vl3Y")),F=a("MuoO"),N=n(a("q1tI")),T=l(a("mOP9")),k=a("+n12"),I=l(a("hh8c")),O=l(a("dnYI")),D=l(a("Lv3o")),V=l(a("JGr0")),z=l(a("tfP3")),P=l(a("RTFr")),R=a("k82f"),M=b.default.Item,B=x.default.Group,A=y.default.Option,H=k.list_com_page_size_10,K=(C=(0,F.connect)(function(e){var t=e.order;return{order:t}}),w=b.default.create(),C(E=w((L=function(e){function t(e){var l;return(0,g.default)(this,t),l=(0,h.default)(this,(0,S.default)(t).call(this,e)),l.order_type_icon={"\u79d2\u6740":a("yRux"),"\u62fc\u56e2":a("oB8E"),"\u5b9a\u91d1\u9884\u552e":a("IkLV"),"\u5168\u6b3e\u9884\u552e":a("o7lW"),"\u9636\u68af\u56e2":a("oivk")},l.resize=function(){var e=l.state.search_height;void 0!=l.refs.search_part&&l.refs.search_part.clientHeight!=e&&l.setState({search_height:l.refs.search_part.clientHeight})},l.get_reason_list=function(){var e=l.props.dispatch;e({type:"order/get_order_reason",payload:{type:108,pageSize:k.list_com_page_more},callback:function(e){200==e.state?l.setState({resList:e.data}):(0,k.failTip)(e.msg)}})},l.get_express_list=function(){var e=l.props.dispatch;e({type:"order/get_express",payload:{pageSize:k.list_com_page_more,expressState:1},callback:function(e){200==e.state?l.setState({expressList:e.data.list}):(0,k.failTip)(e.msg)}})},l.get_list=function(e){l.setState({loading:!0});var t=l.props.dispatch;t({type:"order/get_order_lists",payload:(0,f.default)({},e,{orderState:20}),callback:function(t){l.setState({loading:!1}),200==t.state&&(e.current>1&&0==t.data.list.length&&l.state.params.current>1?(e.current=e.current-1,l.get_list(e)):l.setState({data:t.data}))}})},l.handleSelectRows=function(e,t){l.setState({selectedRows:e,selectedRowKeys:t})},l.handleTablePagination=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"main";if("main"==n){var r=l.state.formValues,o=(0,k.sldHandlePaginationData)(e,t,a,r);e.current,H=o.pageSize,l.setState({params:o}),l.get_list(o)}},l.search=function(e){var t=(0,f.default)({},e);for(var a in t.search_create_time&&(t.startTime=t.search_create_time[0]?t.search_create_time[0].format(k.dateFormat)+" 00:00:00":"",t.endTime=t.search_create_time[1]?t.search_create_time[1].format(k.dateFormat)+" 23:59:59":"",t.search_create_time=""),t)""==t[a]&&delete t[a];l.setState({formValues:t,params:{pageSize:H}}),l.get_list((0,f.default)({pageSize:H},t))},l.seaReset=function(){l.setState({formValues:{},filter_code:"",data:{},params:{pageSize:H}}),l.get_list({pageSize:H})},l.resizeTable=function(e,t,a,n){var r=(0,k.dragSldTableColumn)(e,t,n);l.setState((0,m.default)({},a,r))},l.onShowSizeChange=function(e,t){var a=l.state,n=a.params,r=a.formValues;n.pageSize=t,H=n.pageSize;var o=(0,f.default)({},n,r);l.setState({params:n},function(){l.get_list(o)})},l.onPageChange=function(e,t){var a=l.state.formValues,n=(0,f.default)({pageSize:t,current:e},a);l.setState({params:n}),l.get_list(n)},l.handleSldExcel=function(){var e=l.state,t=e.params,a=e.formValues,n=(0,f.default)({},t,a);n.orderState=20,n.fileName="".concat((0,k.sldComLanguage)("\u8ba2\u5355\u5bfc\u51fa"));var r=l.props.dispatch;l.setState({loading:!0}),r({type:"order/export_order_list",payload:n,callback:function(e){void 0!=e.state&&255==e.state&&(0,k.failTip)(e.msg),l.setState({loading:!1})}})},l.sldHandleCancle=function(){var e=l.state.modalVisible;l.setState({modalVisible:!e,operateData:[],modalItem:{},modalTitle:""})},l.sldHandleConfirm=function(e){var t=l.state,a=(t.modalVisible,t.modalItem),n=l.props.dispatch;e.orderSn=a.orderSn,n({type:"order/cancle_order",payload:e,callback:function(e){if(200==e.state){(0,k.sucTip)(e.msg),l.setState({modalVisible:!1,operateData:[],modalItem:{},modalTitle:""});var t=l.state,a=t.formValues,n=t.params;l.get_list((0,f.default)({},a,n))}else(0,k.failTip)(e.msg)}})},l.agreeReturn=function(e){var t=l.state,a=t.operateData,n=t.resList,r=t.showTopTip;r="".concat((0,k.sldComLanguage)("\u53d6\u6d88\u8ba2\u5355\u540e\uff0c\u8ba2\u5355\u5c06\u81ea\u52a8\u5173\u95ed")),a.push({type:"select",label:"".concat((0,k.sldComLanguage)("\u53d6\u6d88\u7406\u7531")),name:"reasonId",placeholder:"".concat((0,k.sldComLanguage)("\u8bf7\u9009\u62e9\u53d6\u6d88\u7406\u7531")),sel_data:n,sele_key:"reasonId",sele_name:"content",diy:!0,rules:[{required:!0,message:"".concat((0,k.sldComLanguage)("\u8bf7\u9009\u62e9\u53d6\u6d88\u7406\u7531"))}]}),a.push({type:"textarea",label:"".concat((0,k.sldComLanguage)("\u53d6\u6d88\u5907\u6ce8")),name:"remark",placeholder:"".concat((0,k.sldComLanguage)("\u8bf7\u8f93\u5165\u53d6\u6d88\u5907\u6ce8\uff0c\u6700\u591a50\u4e2a\u5b57")),initialValue:""}),l.setState({modalTitle:"".concat((0,k.sldComLanguage)("\u53d6\u6d88\u8ba2\u5355")),modalVisible:!0,operateData:a,modalItem:e,showTopTip:r})},l.agreeDeliver=function(e){l.setState({modalItem:e,modalTitle:"".concat((0,k.sldComLanguage)("\u5546\u54c1\u53d1\u8d27")),demodalVisible:!0,deliverType:"0",exterFaceSheet:e.expressNumber?e.expressNumber:"",isAllowApplyExpressNum:!e.expressNumber,showPrintExterFaceSheetBtn:!!e.expressNumber},function(){l.props.form.resetFields(["expressNumber"])})},l.virturalGoodsOrderDeliverConfirm=function(e){var t=l.props.dispatch;t({type:"order/confirm_delivery",payload:{orderSn:e},callback:function(e){if(200==e.state){(0,k.sucTip)(e.msg);var t=l.state,a=t.formValues,n=t.params;l.get_list((0,f.default)({},a,n))}else(0,k.failTip)(e.msg)}})},l.deliverConfirm=function(e){e.preventDefault(),l.props.form.validateFieldsAndScroll(function(e,t){if(!e){var a=l.state.modalItem,n=l.props.dispatch;t.orderSn=a.orderSn,n({type:"order/confirm_delivery",payload:t,callback:function(e){if(200==e.state){(0,k.sucTip)(e.msg),l.setState({modalItem:{},modalTitle:"",demodalVisible:!1});var t=l.state,a=t.formValues,n=t.params;l.get_list((0,f.default)({},a,n)),l.props.form.resetFields()}else(0,k.failTip)(e.msg)}})}})},l.sldDeliverHandleCancle=function(){l.setState({modalItem:{},modalTitle:"",deliverType:"",demodalVisible:!1}),l.props.form.resetFields()},l.redioOnChange=function(e){l.setState({deliverType:e.target.value})},l.getExterFaceSheetBtn=function(){l.props.form.validateFieldsAndScroll(["expressId"],function(e,t){if(!e){var a=l.state,n=a.modalItem,r=a.showPrintExterFaceSheetBtn,o=a.exterFaceSheet,d=a.formValues,s=a.params,c=l.props.dispatch;t.orderSn=n.orderSn,c({type:"order/get_exter_face_sheet",payload:t,callback:function(e){200==e.state?(l.props.form.resetFields(["expressNumber"]),l.get_list((0,f.default)({},d,s)),r=!0,o=e.data.logisticCode):(0,k.failTip)(e.msg),l.setState({showPrintExterFaceSheetBtn:r,exterFaceSheet:o},function(){l.props.form.resetFields(["expressNumber"])})}})}})},l.printExterFaceSheetBtn=function(){var e=l.state.modalItem,t=l.props.dispatch;t({type:"order/print_exter_face_sheet",payload:{orderSns:e.orderSn},callback:function(e){200==e.state?e.data&&window.open(e.data,"_blank"):(0,k.failTip)(e.msg)}})},l.handleSelExpress=function(e){var t=l.state,a=t.modalItem,n=t.exterFaceSheet,r=t.showPrintExterFaceSheetBtn;e!=a.expressId?(n="",r=!1):(n=a.expressNumber,r=!0),l.setState({exterFaceSheet:n,showPrintExterFaceSheetBtn:r},function(){l.props.form.resetFields(["expressNumber"])})},l.handleInputExpressNum=function(e){l.setState({exterFaceSheet:e.target.value},function(){l.props.form.resetFields(["expressNumber"])})},l.handleSelRows=function(e){var t=l.state,a=t.selectedRowKeys,n=t.selectedRows;a.indexOf(e.orderSn)>-1?(a=a.filter(function(t){return t!=e.orderSn}),n=n.filter(function(t){return t.orderSn!=e.orderSn})):(a.push(e.orderSn),n.push(e)),l.setState({selectedRowKeys:a,selectedRows:n})},l.handleSelAll=function(){var e=l.state,t=e.selectedRowKeys,a=e.selectedRows,n=e.data;t.length==H?(t=[],a=[]):(t=n.list.map(function(e){return e.orderSn}),a=n.list),l.setState({selectedRowKeys:t,selectedRows:a})},l.checkOrderCreateKDNState=function(){l.setState({exterFaceSheetOptType:"create",exterFaceSheetOptShowFlag:!0})},l.checkOrderPrintKDNState=function(){var e=l.state,t=e.selectedRowKeys,a=e.exterFaceSheetOrderData,n=e.exterFaceSheetOptShowFlag,r=e.showAllowPrintKDNBtn,o=e.allowPrintOrderSnArray,d=l.props.dispatch;d({type:"order/check_order_print_exter_face_sheet",payload:{orderSns:t.join(",")},callback:function(e){200==e.state?(a=e.data,n=!0,e.data.map(function(e){1==e.isGenerateFaceSheet&&o.push(e.orderSn)}),r=!0):((0,k.failTip)(e.msg),a=[],n=!1,r=!1),l.setState({exterFaceSheetOptType:"print",exterFaceSheetOrderData:a,exterFaceSheetOptShowFlag:n,showAllowPrintKDNBtn:r,allowPrintOrderSnArray:o})}})},l.operateExterFaceSheetOptShowFlag=function(e){e&&l.updateOrderList(),l.setState({exterFaceSheetOptShowFlag:!1,selectedRowKeys:[],selectedRows:[],allowPrintOrderSnArray:[]})},l.batchDeliver=function(){var e=l.state.selectedRowKeys,t=l.props.dispatch;t({type:"order/batch_deliver",payload:{orderSns:e.join(",")},callback:function(t){200==t.state?((0,k.sucTip)(t.msg),e=[],l.updateOrderList()):(0,k.failTip)(t.msg),l.setState({selectedRowKeys:e})}})},l.updateOrderList=function(){var e=l.state,t=e.formValues,a=e.params;l.get_list((0,f.default)({},a,t))},(0,_.default)(l),l.state={showAllowPrintKDNBtn:!1,allowPrintOrderSnArray:[],exterFaceSheetOptShowFlag:!1,exterFaceSheetOptType:"create",exterFaceSheetOrderData:[],showTopTip:"",search_height:0,filter_code:"",loading:!1,data:{},selectedRows:[],selectedRowKeys:[],title:"",type:"add",params:{pageSize:H},curData:{},search_data:[{type:"input",label:"".concat((0,k.sldComLanguage)("\u8ba2\u5355\u53f7")),name:"orderSn",placeholder:"".concat((0,k.sldComLanguage)("\u8bf7\u8f93\u5165\u8ba2\u5355\u53f7"))},{type:"input",label:"".concat((0,k.sldComLanguage)("\u4f1a\u5458\u540d\u79f0")),name:"memberName",placeholder:"".concat((0,k.sldComLanguage)("\u8bf7\u8f93\u5165\u4f1a\u5458\u540d\u79f0"))},{type:"input",label:"".concat((0,k.sldComLanguage)("\u5546\u54c1\u540d\u79f0")),name:"goodsName",placeholder:"".concat((0,k.sldComLanguage)("\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0"))},{type:"rangepicker",label:"".concat((0,k.sldComLanguage)("\u4e0b\u5355\u65f6\u95f4")),name:"search_create_time",placeholder1:"".concat((0,k.sldComLanguage)("\u5f00\u59cb\u65f6\u95f4")),placeholder2:"".concat((0,k.sldComLanguage)("\u7ed3\u675f\u65f6\u95f4"))}],formValues:{},operateData:[],modalVisible:!1,modalTitle:"",submiting:!1,show_foot:!0,modal_width:550,modalItem:{},demodalVisible:!1,expressList:[],deliverType:"0",resList:[],showPrintExterFaceSheetBtn:!1,exterFaceSheet:"",isAllowApplyExpressNum:!0},l}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.get_list({pageSize:H}),this.get_express_list(),this.get_reason_list(),this.resize(),window.addEventListener("resize",this.resize,{passive:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,l=this.state,n=l.search_data,m=l.data,f=l.loading,g=l.params,p=l.operateData,h=l.modalVisible,S=l.modalTitle,_=l.submiting,v=l.show_foot,C=l.modal_width,w=l.search_height,E=l.demodalVisible,L=l.modalItem,F=l.expressList,K=l.deliverType,j=l.showTopTip,q=l.showPrintExterFaceSheetBtn,G=l.exterFaceSheet,W=l.isAllowApplyExpressNum,X=l.selectedRowKeys,J=l.exterFaceSheetOptType,Z=l.exterFaceSheetOrderData,Q=l.exterFaceSheetOptShowFlag,Y=l.showAllowPrintKDNBtn,U=l.allowPrintOrderSnArray;return N.default.createElement("div",{className:"".concat(I.default.common_page),style:{flex:1,flexDirection:"column",overflow:"hidden"}},N.default.createElement("div",{className:I.default.flex_com_space_between,style:{marginBottom:10}},(0,k.sldLlineRtextAddGoods)("#69A2F2","".concat((0,k.sldComLanguage)("\u8ba2\u5355\u53d1\u8d27"))),(0,k.sldIconBtnBg)(function(){return e.handleSldExcel()},"ziyuan23","".concat((0,k.sldComLanguage)("\u8ba2\u5355\u5bfc\u51fa")),"#fff",7,0,15,15,3)),N.default.createElement("div",{style:{position:"relative"}},N.default.createElement("div",{className:I.default.tableListForm,ref:"search_part"},N.default.createElement(D.default,{search_data:n,seaSubmit:function(t){return e.search(t)},seaReset:function(){return e.seaReset()}})),N.default.createElement("div",{className:I.default.operate_bg,style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},N.default.createElement("div",{style:{display:"flex",flexDirection:"row"}},0==X.length?(0,k.sldIconBtn)(function(){(0,k.failTip)("".concat((0,k.sldComLanguage)("\u8bf7\u5148\u9009\u4e2d\u6570\u636e")))},"".concat((0,k.sldComLanguage)("\u6279\u91cf\u751f\u6210\u7535\u5b50\u9762\u5355")),7,0,14,14,3,"piliangshengcheng","#0c93f2"):(0,k.sldIconBtn)(function(){return e.checkOrderCreateKDNState()},"".concat((0,k.sldComLanguage)("\u6279\u91cf\u751f\u6210\u7535\u5b50\u9762\u5355")),7,0,14,14,3,"piliangshengcheng","#0c93f2"),0==X.length?(0,k.sldIconBtn)(function(){(0,k.failTip)("".concat((0,k.sldComLanguage)("\u8bf7\u5148\u9009\u4e2d\u6570\u636e")))},"".concat((0,k.sldComLanguage)("\u6279\u91cf\u53d1\u8d27")),7,0,15,15,3,"piliangfahuo","#ff4f21"):(0,k.sldPopConfirm)("leftBottom","".concat((0,k.sldComLanguage)("\u6279\u91cf\u53d1\u8d27\u53ea\u9488\u5bf9\u5df2\u7ecf\u751f\u6210\u7535\u5b50\u9762\u5355\u7684\u6570\u636e,\u786e\u5b9a\u6267\u884c\u8be5\u64cd\u4f5c\u5417"),"\uff1f"),function(){return e.batchDeliver()},"".concat((0,k.sldComLanguage)("\u786e\u5b9a")),"".concat((0,k.sldComLanguage)("\u53d6\u6d88")),(0,k.sldIconBtn)(null,"".concat((0,k.sldComLanguage)("\u6279\u91cf\u53d1\u8d27")),7,0,15,15,3,"piliangfahuo","#ff4f21"),0,0,"#ff4f21"),0==X.length?(0,k.sldIconBtn)(function(){(0,k.failTip)("".concat((0,k.sldComLanguage)("\u8bf7\u5148\u9009\u4e2d\u6570\u636e")))},"".concat((0,k.sldComLanguage)("\u6279\u91cf\u6253\u5370\u7535\u5b50\u9762\u5355")),7,0,14,14,3,"piliangdayin","#0c93f2"):(0,k.sldIconBtn)(function(){return e.checkOrderPrintKDNState()},"".concat((0,k.sldComLanguage)("\u6279\u91cf\u6253\u5370\u7535\u5b50\u9762\u5355")),7,0,14,14,3,"piliangdayin","#0c93f2"))),N.default.createElement(s.default,{spinning:f},N.default.createElement("div",{className:O.default.order_list},N.default.createElement("ul",{className:O.default.header},N.default.createElement("div",{className:O.default.left_all,onClick:function(){return e.handleSelAll()}},X.length==H?(0,k.sldSvgIcon)("white",16,16,"duoxuan_yixuanzhong"):(0,k.sldSvgIcon)("white",16,16,"duoxuan_weixuanzhong")),N.default.createElement("li",{className:"".concat(O.default.width_40," ").concat(O.default.pl_100)},(0,k.sldComLanguage)("\u5546\u54c1\u4fe1\u606f")),N.default.createElement("li",{className:"".concat(O.default.width_10," ").concat(O.default.center)},(0,k.sldComLanguage)("\u5355\u4ef7(\u5143)")),N.default.createElement("li",{className:"".concat(O.default.width_10," ").concat(O.default.center)},(0,k.sldComLanguage)("\u6570\u91cf")),N.default.createElement("li",{className:"".concat(O.default.width_10," ").concat(O.default.center)},(0,k.sldComLanguage)("\u4f1a\u5458")),N.default.createElement("li",{className:"".concat(O.default.width_10," ").concat(O.default.center)},(0,k.sldComLanguage)("\u5b9e\u4ed8\u91d1\u989d")),N.default.createElement("li",{className:"".concat(O.default.width_10," ").concat(O.default.center)},(0,k.sldComLanguage)("\u8ba2\u5355\u72b6\u6001")),N.default.createElement("li",{className:"".concat(O.default.width_10," ").concat(O.default.center)},(0,k.sldComLanguage)("\u64cd\u4f5c"))),N.default.createElement("div",{className:O.default.order_content},void 0!=m.list&&0==m.list.length&&N.default.createElement(u.default,{image:u.default.PRESENTED_IMAGE_SIMPLE}),N.default.createElement(R.Scrollbars,{autoHeight:!0,autoHeightMax:document.body.clientHeight-265-w},void 0!=m.list&&m.list.length>0&&m.list.map(function(t,l){return N.default.createElement("div",{className:O.default.item,key:l},N.default.createElement("div",{className:"".concat(O.default.order_info," ").concat(I.default.flex_row_between_center)},N.default.createElement("div",{className:"".concat(O.default.left," ").concat(I.default.flex_row_start_start)},N.default.createElement("div",{style:{height:16},onClick:function(){return e.handleSelRows(t)}},X.indexOf(t.orderSn)>-1?(0,k.sldSvgIcon)("white",16,16,"duoxuan_yixuanzhong"):(0,k.sldSvgIcon)("white",16,16,"duoxuan_weixuanzhong")),N.default.createElement("span",{className:O.default.order_sn,style:{marginLeft:8}},(0,k.sldComLanguage)("\u8ba2\u5355\u53f7\uff1a"),t.orderSn),t.orderTypeValue&&N.default.createElement("div",{className:O.default.order_type},N.default.createElement("img",{className:O.default.order_type_icon,src:e.order_type_icon[t.orderTypeValue]}),N.default.createElement("span",{className:O.default.order_type_text},t.orderTypeValue)),2==t.isVirtualGoods&&N.default.createElement("div",{className:O.default.order_type,style:{marginLeft:8}},N.default.createElement("img",{className:O.default.order_type_icon,src:a("jksX")}),N.default.createElement("span",{className:O.default.order_type_text},(0,k.sldComLanguage)("\u865a\u62df\u5546\u54c1\u8ba2\u5355")))),N.default.createElement("span",{className:O.default.create_time},(0,k.sldComLanguage)("\u4e0b\u5355\u65f6\u95f4\uff1a"),t.createTime)),N.default.createElement("div",{className:"".concat(O.default.order_goods_part," ").concat(I.default.flex_row_start_center)},N.default.createElement("div",{className:"".concat(O.default.goods," ").concat(I.default.flex_column_start_start," ").concat(O.default.width_60," ").concat(void 0!=t.orderProductListVOList&&t.orderProductListVOList.length>1?O.default.goods_split:null)},void 0!=t.orderProductListVOList&&t.orderProductListVOList.length>0&&t.orderProductListVOList.map(function(e,t){return N.default.createElement("div",{className:"".concat(O.default.goods_item," ").concat(I.default.flex_row_start_center),style:{width:"100%"},key:t},N.default.createElement("div",{className:"".concat(I.default.flex_row_start_center),style:{width:"66.66%"}},N.default.createElement("div",{className:"".concat(O.default.goods_img_wrap," ").concat(I.default.flex_row_center_center)},N.default.createElement("img",{src:e.productImage})),N.default.createElement("div",{className:"".concat(O.default.goods_info," ").concat(I.default.flex_column_start_start)},N.default.createElement("span",{className:"".concat(O.default.goods_name)},e.goodsName),N.default.createElement("span",{className:"".concat(O.default.goods_spec)},e.specValues))),N.default.createElement("span",{className:"".concat(O.default.goods_price," ").concat(O.default.width_10," ").concat(O.default.center),style:{width:"16.68%"}},"\uffe5",e.productShowPrice),N.default.createElement("span",{className:"".concat(O.default.buy_num," ").concat(O.default.width_10," ").concat(O.default.center),style:{width:"16.66%"}},e.productNum))})),N.default.createElement("div",{className:"".concat(O.default.member_info," ").concat(I.default.flex_column_center_center," ").concat(O.default.width_10)},N.default.createElement("span",{className:"".concat(O.default.mem_name)},t.memberName)),N.default.createElement("div",{className:"".concat(O.default.pay_amount," ").concat(O.default.width_10," ").concat(O.default.center)},"\uffe5",t.orderAmount),N.default.createElement("div",{className:"".concat(O.default.order_state," ").concat(O.default.width_10," ").concat(O.default.center)},t.orderStateValue),N.default.createElement("div",{className:"".concat(O.default.operate," ").concat(O.default.width_10," ").concat(O.default.center)},N.default.createElement(T.default,{to:{pathname:"/order/order_lists_to_detail",query:{orderSn:t.orderSn}}},N.default.createElement("div",{className:"".concat(O.default.operate_btn)},(0,k.sldComLanguage)("\u67e5\u770b\u8be6\u60c5"))),20==t.orderState&&0==t.lockState&&(void 0==t.isShowDeliverButton||void 0!=t.isShowDeliverButton&&t.isShowDeliverButton)?2==t.isVirtualGoods?N.default.createElement(i.default,{placement:"topRight",title:"".concat((0,k.sldComLanguage)("\u8be5\u8ba2\u5355\u4e3a\u865a\u62df\u5546\u54c1\u8ba2\u5355\uff0c\u786e\u8ba4\u6267\u884c\u8be5\u64cd\u4f5c\u5417"),"?"),onConfirm:function(){return e.virturalGoodsOrderDeliverConfirm(t.orderSn)},okText:(0,k.sldComLanguage)("\u786e\u5b9a"),cancelText:(0,k.sldComLanguage)("\u53d6\u6d88")},N.default.createElement("div",{className:O.default.operate_btn},N.default.createElement("a",{style:{color:"#666"},href:"javascript:void(0)"},(0,k.sldComLanguage)("\u53d1\u8d27")))):N.default.createElement("div",{className:O.default.operate_btn,onClick:function(){return e.agreeDeliver(t)}},(0,k.sldComLanguage)("\u53d1\u8d27")):null,10==t.orderState||20==t.orderState?N.default.createElement("div",{className:O.default.operate_btn,onClick:function(){return e.agreeReturn(t)}},(0,k.sldComLanguage)("\u53d6\u6d88\u8ba2\u5355")):null)))}))),N.default.createElement("div",{className:O.default.pagination},void 0!=m.list&&m.list.length>0&&void 0!=m.pagination&&N.default.createElement(c.default,{size:"small",showSizeChanger:!0,showQuickJumper:!0,pageSize:g.pageSize,onShowSizeChange:this.onShowSizeChange,onChange:this.onPageChange,defaultCurrent:m.pagination.current,total:m.pagination.total})))),N.default.createElement("div",{className:I.default.modalsty},N.default.createElement(P.default,{title:S,submiting:_,show_foot:v,width:C,modalVisible:h,sldHandleConfirm:function(t){return e.sldHandleConfirm(t)},sldHandleCancle:this.sldHandleCancle,formItemLayoutModal:k.formItemLayoutModal,content:p,showTopTip:j})),N.default.createElement(r.default,{centered:!0,title:S,width:C,visible:E,onCancel:function(){return e.sldDeliverHandleCancle()},onOk:this.deliverConfirm},0==K?N.default.createElement(N.Fragment,null,N.default.createElement("div",{className:"".concat(I.default.flex_row_start_center," ").concat(I.default.sld_modal_top_tip)},N.default.createElement("div",{style:{lineHeight:0}},(0,k.sldSvgIcon)("#333",15,15,"tishi3")),N.default.createElement("span",{style:{fontSize:13,marginLeft:6}},(0,k.sldComLanguage)("\u8bf7\u8ba4\u771f\u586b\u5199\u7269\u6d41\u516c\u53f8\u53ca\u5feb\u9012\u5355\u53f7"))),(0,k.getSldEmptyH)(40)):(0,k.getSldEmptyH)(15),N.default.createElement(b.default,{layout:"horizontal"},N.default.createElement(M,(0,d.default)({label:(0,k.sldComLanguage)("\u6536\u8d27\u4eba\u59d3\u540d")},k.formItemLayoutModal),N.default.createElement("span",null,L.receiverName)),N.default.createElement(M,(0,d.default)({label:(0,k.sldComLanguage)("\u6536\u8d27\u4eba\u7535\u8bdd")},k.formItemLayoutModal),N.default.createElement("span",null,L.receiverMobile)),N.default.createElement(M,null),N.default.createElement(M,(0,d.default)({label:(0,k.sldComLanguage)("\u6536\u8d27\u4eba\u5730\u5740")},k.formItemLayoutModal),N.default.createElement("span",{style:{wordBreak:"break-all"}},L.receiverAddress)),N.default.createElement(M,(0,d.default)({label:(0,k.sldComLanguage)("\u53d1\u8d27\u65b9\u5f0f")},k.formItemLayoutModal),t("deliverType",{initialValue:0,rules:[{required:!0,message:"".concat((0,k.sldComLanguage)("\u8bf7\u9009\u62e9\u53d1\u8d27\u65b9\u5f0f"))}]})(N.default.createElement(B,{onChange:function(t){return e.redioOnChange(t)}},N.default.createElement(x.default,{value:0},(0,k.sldComLanguage)("\u7269\u6d41\u53d1\u8d27")),N.default.createElement(x.default,{value:1},(0,k.sldComLanguage)("\u65e0\u9700\u7269\u6d41"))))),"0"==this.state.deliverType?N.default.createElement(N.Fragment,null,N.default.createElement(M,(0,d.default)({label:(0,k.sldComLanguage)("\u7269\u6d41\u516c\u53f8")},k.formItemLayoutModal),t("expressId",{initialValue:L.expressId?L.expressId:void 0,rules:[{required:!0,message:"".concat((0,k.sldComLanguage)("\u8bf7\u9009\u62e9\u7269\u6d41\u516c\u53f8"))}]})(N.default.createElement(y.default,{placeholder:(0,k.sldComLanguage)("\u8bf7\u9009\u62e9\u7269\u6d41\u516c\u53f8"),onChange:function(t){return e.handleSelExpress(t)}},F.length>0&&F.map(function(e){return N.default.createElement(A,{value:e.expressId},e.expressName)})))),N.default.createElement(M,(0,d.default)({label:(0,k.sldComLanguage)("\u5feb\u9012\u5355\u53f7")},k.formItemLayoutModal,{extra:(0,k.sldComLanguage)("\u53ef\u4ee5\u76f4\u63a5\u8f93\u5165\u7269\u6d41\u5355\u53f7\uff0c\u4e5f\u53ef\u4ee5\u70b9\u51fb\u83b7\u53d6\u7269\u6d41\u5355\u53f7\u901a\u8fc7\u7535\u5b50\u9762\u5355\u81ea\u52a8\u83b7\u53d6\u7269\u6d41\u5355\u53f7")}),t("expressNumber",{initialValue:G,rules:[{required:!0,whitespace:!0,message:"".concat((0,k.sldComLanguage)("\u8bf7\u8f93\u5165\u7269\u6d41\u5355\u53f7"))},{pattern:/^[0-9a-zA-Z]*$/g,message:"".concat((0,k.sldComLanguage)("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5355\u53f7"))}]})(N.default.createElement("div",{className:"".concat(I.default.flex_row_start_center),style:{position:"relative"}},N.default.createElement(o.default,{onChange:function(t){return e.handleInputExpressNum(t)},maxLength:20,placeholder:(0,k.sldComLanguage)("\u8bf7\u8f93\u5165\u7269\u6d41\u5355\u53f7"),value:G}),q?N.default.createElement("a",{className:"".concat(O.default.free_freight," ").concat(O.default.get_exter_face_sheet_btn),onClick:function(){return e.printExterFaceSheetBtn()}},"\u6253\u5370\u7535\u5b50\u9762\u5355"):W?N.default.createElement("a",{className:"".concat(O.default.free_freight," ").concat(O.default.get_exter_face_sheet_btn),onClick:function(){return e.getExterFaceSheetBtn()}},"\u83b7\u53d6\u7269\u6d41\u5355\u53f7"):null)))):null,"1"==this.state.deliverType?N.default.createElement(N.Fragment,null,N.default.createElement(M,(0,d.default)({label:(0,k.sldComLanguage)("\u8054\u7cfb\u4eba")},k.formItemLayoutModal),t("deliverName",{rules:[{required:!0,whitespace:!0,message:"".concat((0,k.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba"))}]})(N.default.createElement(o.default,{maxLength:10,placeholder:(0,k.sldComLanguage)("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba")}))),N.default.createElement(M,(0,d.default)({label:(0,k.sldComLanguage)("\u8054\u7cfb\u65b9\u5f0f")},k.formItemLayoutModal),t("deliverMobile",{rules:[{required:!0,whitespace:!0,message:"".concat((0,k.sldComLanguage)("\u8bf7\u8f93\u5165\u624b\u673a\u53f7"))},{pattern:k.mobile_reg,message:"".concat((0,k.sldComLanguage)("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"))}]})(N.default.createElement(o.default,{maxLength:11,placeholder:(0,k.sldComLanguage)("\u8bf7\u8f93\u5165\u624b\u673a\u53f7")})))):null)),"print"==J&&N.default.createElement(V.default,{exterFaceSheetOptShowFlag:Q,orderData:Z,showAllowPrintKDNBtn:Y,allowPrintOrderSnArray:U,operateExterFaceSheetOptShowFlag:this.operateExterFaceSheetOptShowFlag}),"create"==J&&N.default.createElement(z.default,{exterFaceSheetOptShowFlag:Q,orderData:X,operateExterFaceSheetOptShowFlag:this.operateExterFaceSheetOptShowFlag,expressList:F})))}}]),t}(N.Component),E=L))||E)||E);t.default=K}}]);