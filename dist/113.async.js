(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[113],{TrgA:function(e,a,t){"use strict";var n=t("g09b"),d=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("T2oS");var l=n(t("W9HT"));t("BoS7");var i=n(t("Sdc0")),o=n(t("eHn4")),c=n(t("p0pE")),s=n(t("2Taf")),r=n(t("vZ4D")),u=n(t("l4Ni")),m=n(t("ujKo")),g=n(t("MhPg"));t("y8nQ");var f,p,h,C,_=n(t("Vl3Y")),S=t("MuoO"),y=d(t("q1tI")),b=t("+n12"),v=n(t("mOP9")),w=n(t("hh8c")),L=n(t("CkN6")),T=n(t("RTFr")),I=n(t("lNax")),D=b.list_com_page_size_10,E=(f=(0,S.connect)(function(e){var a=e.article;return{article:a}}),p=_.default.create(),f(h=p((C=function(e){function a(e){var t;return(0,s.default)(this,a),t=(0,u.default)(this,(0,m.default)(a).call(this,e)),t.modal_tip=["".concat((0,b.sldComLanguage)("\u8bf7\u4e25\u683c\u6839\u636e\u63d0\u793a\u8981\u6c42\u4e0a\u4f20\u89c4\u5b9a\u5c3a\u5bf8\u7684\u56fe\u7247,\u56fe\u7247\u4e0d\u53ef\u4ee5\u8d85\u8fc71M,\u5426\u5219\u5f71\u54cd\u9875\u9762\u52a0\u8f7d\u6548\u679c")),"".concat((0,b.sldComLanguage)("\u7f16\u8f91\u9879\u4e2d\u7684\u201c\u64cd\u4f5c\u201d\u6307\u70b9\u51fb\u8be5\u5185\u5bb9\u6240\u4ea7\u751f\u7684\u94fe\u63a5\u5730\u5740\uff0c\u53ef\u901a\u8fc7\u4e0b\u62c9\u9009\u9879\u9009\u62e9\u4e0d\u540c\u7684\u65b9\u5f0f"))],t.get_list=function(e){var a=t.props.dispatch;a({type:"mdecorate/get_diy_page_lists",payload:(0,c.default)({},e,{type:"home"}),callback:function(a){t.setState({loading:!1}),200==a.state&&(0==a.data.list.length&&t.state.params.current>1?(e.current=e.current-1,t.get_list(e)):t.setState({data:a.data,isReset:!1}))}})},t.handleSelectRows=function(e,a){t.setState({selectedRows:e,selectedRowKeys:a})},t.handleTablePagination=function(e,a,n){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"main",l=t.state.formValues;if("main"==d){var i=(0,b.sldHandlePaginationData)(e,a,n,l);D=i.pageSize,t.setState({params:i}),t.get_list(i)}},t.handleSetEnable=function(e,a,n){var d={};d.decoId=a,d.isUse=e?1:0,d.os=n,t.operateMDiyPage(d,"enable")},t.operateMDiyPage=function(e,a){var n=t.props.dispatch,d="",l={decoId:e};"edit"==a?(d="mdecorate/edit_m_diy_page",l=e):"del"==a?d="mdecorate/del_m_diy_page":"copy"==a?d="mdecorate/copy_m_diy_page":"enable"==a&&(d="mdecorate/set_m_diy_page",l=e),n({type:d,payload:l,callback:function(e){200==e.state?((0,b.sucTip)(e.msg),t.get_list(t.state.params),t.setState({modalVisible:!1})):(0,b.failTip)(e.msg),t.setState({submiting:!1})}})},t.sldHandleConfirm=function(e){t.setState({submiting:!0});var a=t.state,n=a.curData,d=a.type,l=t.props.dispatch;e.type="home","edit"==d?(e.decoId=n.decoId,t.operateMDiyPage(e,"edit")):(e.data="",l({type:"mdecorate/add_m_diy_page",payload:e,callback:function(e){200==e.state?((0,b.sucTip)(e.msg),t.get_list({pageSize:D}),t.setState({modalVisible:!1,params:{pageSize:D}})):(0,b.failTip)(e.msg),t.setState({submiting:!1})}}))},t.sldHandleCancle=function(){t.setState({modalVisible:!1,modalVisibleAdv:!1})},t.resizeTable=function(e,a,n,d){var l=(0,b.dragSldTableColumn)(e,a,d);t.setState((0,o.default)({},n,l))},t.addMDiyPage=function(){var e=t.state.addData;for(var a in e)e[a].initialValue="";t.setState({modalVisible:!0,type:"add",title:"".concat((0,b.sldComLanguage)("\u6dfb\u52a0\u9996\u9875\u88c5\u4fee")),addData:e})},t.editMDiyPage=function(e){var a=t.state.addData;for(var n in a)a[n].initialValue=e[a[n].name];t.setState({modalVisible:!0,type:"edit",title:"".concat((0,b.sldComLanguage)("\u7f16\u8f91\u9996\u9875\u88c5\u4fee")),addData:a,curData:e})},t.addScreenAdv=function(e){var a=t.state,n=a.modalTitle,d=a.screen_data,l=a.origion_data;if(d=(0,c.default)({},l,{data:(0,b.getSldCopyData)(l.data)}),null!=e.showTip&&e.showTip){n="".concat((0,b.sldComLanguage)("\u7f16\u8f91\u5f00\u5c4f\u56fe"));var i=JSON.parse(e.showTip.replace(/&quot;/g,'"'));for(var o in d.data)i[o].imgUrl&&(d.data[o]=i[o])}else n="".concat((0,b.sldComLanguage)("\u8bbe\u7f6e\u5f00\u5c4f\u56fe"));t.setState({modalVisibleAdv:!0,modalTitle:n,screen_data:d,curData:e})},t.sldHandleConfirmScreenAdv=function(e){var a=t.state.curData,n={};n.decoId=a.decoId,n.type="home",n.showTip=JSON.stringify(e),t.operateMDiyPage(n,"edit")},t.sldSearch=function(e){t.setState({formValues:{name:e,params:{pageSize:D}}}),t.get_list({pageSize:D,name:e})},t.sldSearChange=function(e){t.setState({search_con:e.target.value})},t.sldSearClear=function(){t.setState({search_con:""}),t.sldSearch("")},t.state={data:{},submiting:!1,loading:!1,selectedRows:[],selectedRowKeys:[],modalVisible:!1,title:"",search_con:"",type:"add",params:{pageSize:D},curData:{},addData:[{type:"input",label:"".concat((0,b.sldComLanguage)("\u9875\u9762\u540d\u79f0")),name:"name",placeholder:"".concat((0,b.sldComLanguage)("\u8bf7\u8f93\u5165\u9875\u9762\u540d\u79f0")),initialValue:"",maxLength:8,extra:"".concat((0,b.sldComLanguage)("\u6700\u591a\u8f93\u51658\u4e2a\u5b57")),rules:[{required:!0,whitespace:!0,message:"".concat((0,b.sldComLanguage)("\u8bf7\u8f93\u5165\u9875\u9762\u540d\u79f0"))}]}],columns:[{title:" ",dataIndex:"decoId",align:"center",width:55,render:function(e,a,n){return(0,b.getTableNum)(t.state.params,D,n)}},{title:"".concat((0,b.sldComLanguage)("\u9875\u9762\u540d\u79f0")),align:"center",dataIndex:"name",width:100},{title:"".concat((0,b.sldComLanguage)("\u521b\u5efa\u65f6\u95f4")),dataIndex:"createTime",align:"center",width:150},{title:"".concat((0,b.sldComLanguage)("\u66f4\u65b0\u65f6\u95f4")),dataIndex:"updateTime",align:"center",width:150},{title:"Android",width:80,align:"center",dataIndex:"android",render:function(e,a){return y.default.createElement(i.default,{checked:1==e,onChange:function(e){return t.handleSetEnable(e,a.decoId,"android")}})}},{title:"IOS",dataIndex:"ios",align:"center",width:80,render:function(e,a){return y.default.createElement(i.default,{checked:1==e,onChange:function(e){return t.handleSetEnable(e,a.decoId,"ios")}})}},{title:"".concat((0,b.sldComLanguage)("\u5fae\u5546\u57ce")),dataIndex:"h5",align:"center",width:80,render:function(e,a){return y.default.createElement(i.default,{checked:1==e,onChange:function(e){return t.handleSetEnable(e,a.decoId,"h5")}})}},{title:"".concat((0,b.sldComLanguage)("\u5fae\u4fe1\u5c0f\u7a0b\u5e8f")),dataIndex:"weixinXcx",align:"center",width:80,render:function(e,a){return y.default.createElement(i.default,{checked:1==e,onChange:function(e){return t.handleSetEnable(e,a.decoId,"weixinXcx")}})}},{title:"".concat((0,b.sldComLanguage)("\u64cd\u4f5c")),align:"center",width:100,render:function(e,a){return y.default.createElement(y.Fragment,null,y.default.createElement(v.default,{to:{pathname:"/store/decorate_mhome_to_edit",query:{id:a.decoId,type:"seller",source:"/store/decorate_mhome"}}},(0,b.sldtbaleOpeBtnText)("".concat((0,b.sldComLanguage)("\u88c5\u4fee")),function(){return null})),y.default.createElement("span",{className:w.default.splitLine}),(0,b.sldtbaleOpeBtnText)("".concat((0,b.sldComLanguage)("\u7f16\u8f91")),function(){return t.editMDiyPage(a)}),y.default.createElement("span",{className:w.default.splitLine}),(0,b.sldtbaleOpeBtnText)("".concat((0,b.sldComLanguage)("\u590d\u5236")),function(){return t.operateMDiyPage(a.decoId,"copy")}),y.default.createElement("span",{className:w.default.splitLine}),(0,b.sldtbaleOpeBtnText)("".concat((0,b.sldComLanguage)("\u5f00\u5c4f\u56fe")),function(){return t.addScreenAdv(a)}),y.default.createElement("span",{className:w.default.splitLine}),(0,b.sldPopConfirmDiy)("leftBottom","".concat((0,b.sldComLanguage)("\u5220\u9664\u540e\u4e0d\u53ef\u6062\u590d\uff0c\u662f\u5426\u786e\u5b9a\u5220\u9664")),function(){return t.operateMDiyPage(a.decoId,"del")},"".concat((0,b.sldComLanguage)("\u786e\u5b9a")),"".concat((0,b.sldComLanguage)("\u53d6\u6d88")),(0,b.sldtbaleOpeBtnText)("".concat((0,b.sldComLanguage)("\u5220\u9664")),function(){return null})))}}],screen_data:[],origion_data:{width:580,height:776,admin_show_width:290,admin_show_height:388,data:[{imgPath:"",imgUrl:"",info:{},link_type:"",link_value:"",title:"",width:0,height:0}]},modalTitle:""},t}return(0,g.default)(a,e),(0,r.default)(a,[{key:"componentDidMount",value:function(){this.get_list({pageSize:D})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,a=this.state,t=a.selectedRows,n=a.modalVisible,d=a.title,i=a.addData,o=a.columns,c=a.submiting,s=a.data,r=a.loading,u=a.search_con,m=a.modalTitle,g=a.modalVisibleAdv,f=a.screen_data;return y.default.createElement("div",{className:w.default.common_page},(0,b.sldLlineRtextAddGoodsAddMargin)("#69A2F2","".concat((0,b.sldComLanguage)("\u9996\u9875\u88c5\u4fee")),0,0,10),y.default.createElement(l.default,{spinning:r},y.default.createElement("div",{className:w.default.operate_bg},(0,b.sldIconBtn)(function(){return e.addMDiyPage()},"".concat((0,b.sldComLanguage)("\u65b0\u5efa\u9875\u9762")),7,7),(0,b.sldSearchValClear)("".concat((0,b.sldComLanguage)("\u8bf7\u8f93\u5165\u9875\u9762\u540d\u79f0")),291,this.sldSearch,"".concat((0,b.sldComLanguage)("\u641c\u7d22")),u,this.sldSearChange,this.sldSearClear,65)),y.default.createElement(L.default,{totalHeight:document.body.clientHeight-160,selectedRows:t,data:s,rowKey:"decoId",isCheck:!1,columns:o,onSelectRow:this.handleSelectRows,onChange:function(a,t,n){return e.handleTablePagination(a,t,n,"main")},resizeTable:function(a,t){return e.resizeTable(a,t,"columns",o)},isColumnResize:!0}),y.default.createElement(T.default,{title:d,submiting:c,modalVisible:n,sldHandleConfirm:function(a){return e.sldHandleConfirm(a)},sldHandleCancle:this.sldHandleCancle,formItemLayoutModal:b.formItemLayoutModal,content:i})),y.default.createElement(I.default,{width:1e3,title:m,sldSeleSingleRow:!0,submiting:c,modalVisible:g,sldHandleConfirm:function(a){return e.sldHandleConfirmScreenAdv(a)},sldHandleCancle:this.sldHandleCancle,content:f,modal_tip:this.modal_tip,client:"mobile"}))}}]),a}(y.Component),h=C))||h)||h);a.default=E}}]);