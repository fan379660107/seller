(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[84],{KCBC:function(e,t,a){"use strict";var l=a("g09b"),c=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var n=l(a("W9HT"));a("g9YV");var o=l(a("wCAj")),d=l(a("d6i3")),u=l(a("1l/V")),s=l(a("2Taf")),r=l(a("vZ4D")),i=l(a("l4Ni")),m=l(a("ujKo")),f=l(a("rlhR")),g=l(a("MhPg"));a("y8nQ");var p,v,_,y,E=l(a("Vl3Y")),h=a("MuoO"),C=c(a("q1tI")),L=a("k82f"),w=a("+n12"),N=l(a("hh8c")),T=l(a("JMh9")),x=l(a("usdK")),b=(p=(0,h.connect)(function(e){var t=e.promotion,a=e.global;return{promotion:t,global:a}}),v=E.default.create(),p(_=v((y=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,i.default)(this,(0,m.default)(t).call(this,e)),a.get_detail=function(){var e=(0,u.default)(d.default.mark(function e(t){var l;return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:l=a.props.dispatch,a.setState({loading:!0}),l({type:"promotion/get_coupon_detail",payload:{couponId:t},callback:function(){var e=(0,u.default)(d.default.mark(function e(l){return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:200==l.state&&(2==l.data.useType&&a.get_goods_list(t),a.setState({coupon_detail:l.data,loading:!1,useTimeType:l.data.effectiveTimeType,useType:l.data.useType,curCouponType:l.data.couponType}));case 1:case"end":return e.stop()}},e)}));function l(t){return e.apply(this,arguments)}return l}()});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.get_goods_list=function(e){var t=a.state,l=t.selectedRows,c=t.selectedRowKeys,n=a.props.dispatch;n({type:"promotion/get_coupon_goods_list",payload:{couponId:e},callback:function(){var e=(0,u.default)(d.default.mark(function e(t){return d.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:200==t.state&&(t.data.list.length>0&&(l=t.data.list,l.map(function(e){e.mainImage=e.goodsImage,c.push(e.goodsId)})),a.setState({selectedRows:l,selectedRowKeys:c}));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()})},(0,f.default)(a),a.state={coupon_detail:{},useType:1,useTimeType:1,curCouponType:1,query:e.location.query,loading:!1,selectedRows:[],selectedRowKeys:[],columns_spu:[{title:" ",dataIndex:"key",align:"center",width:30,render:function(e,t,a){return a+1}},{title:"".concat((0,w.sldComLanguage)("\u5546\u54c1\u56fe\u7247")),dataIndex:"mainImage",align:"center",width:100,render:function(e,t){return C.default.createElement("div",null,(0,w.getSldComImg)(e,200,200,50,50))}},{title:"".concat((0,w.sldComLanguage)("\u5546\u54c1\u540d\u79f0")),dataIndex:"goodsName",align:"center",width:150},{title:"".concat((0,w.sldComLanguage)("\u5546\u54c1\u4ef7\u683c(\xa5)")),dataIndex:"goodsPrice",align:"center",width:100},{title:"".concat((0,w.sldComLanguage)("\u5546\u54c1\u5e93\u5b58")),dataIndex:"goodsStock",align:"center",width:100}]},a}return(0,g.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.state.query;void 0!=e.id&&e.id>0&&this.get_detail(e.id)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.curCouponType,l=e.useTimeType,c=e.useType,d=e.columns_spu,u=e.selectedRows,s=e.coupon_detail;return C.default.createElement("div",{className:"".concat(N.default.common_page," ").concat(N.default.com_flex_column),style:{position:"relative"}},C.default.createElement(n.default,{spinning:t},C.default.createElement(E.default,{layout:"inline"},C.default.createElement("div",{className:"".concat(N.default.goods_sku_tab," ").concat(N.default.add_goods_wrap," ").concat(T.default.full_activity)},C.default.createElement("div",{className:N.default.flex_com_space_between,style:{margin:10,marginTop:0}},(0,w.sldLlineRtextAddGoodsAddMargin)("#FA6F1E","".concat((0,w.sldComLanguage)("\u4f18\u60e0\u5238\u8be6\u60c5")),0,0,0),(0,w.sldIconBtnBg)(function(){return x.default.go(-1)},"fanhui","".concat((0,w.sldComLanguage)("\u8fd4\u56de\u4e0a\u7ea7\u9875\u9762")),"#fff",7,0,15,15,5)),(0,w.getSldHorLine)(1),C.default.createElement(L.Scrollbars,{autoHeight:!0,autoHeightMin:100,autoHeightMax:document.body.clientHeight-110},(0,w.getSldEmptyH)(10),(0,w.sldCommonTitleByBg)("".concat((0,w.sldComLanguage)("\u4f18\u60e0\u5238\u57fa\u672c\u4fe1\u606f"))),(0,w.getSldEmptyH)(10),C.default.createElement("div",{className:"".concat(T.default.full_acm_activity," ").concat(N.default.flex_column_start_start)},C.default.createElement("div",{className:"".concat(T.default.item," ").concat(N.default.flex_row_start_center)},C.default.createElement("div",{className:"".concat(T.default.left)},C.default.createElement("span",{style:{color:"red"}},"*"),(0,w.sldComLanguage)("\u4f18\u60e0\u5238\u540d\u79f0")),C.default.createElement("div",{className:"".concat(T.default.right)},s.couponName)),C.default.createElement("div",{className:"".concat(T.default.item," ").concat(N.default.flex_row_start_center)},C.default.createElement("div",{className:"".concat(T.default.left)},C.default.createElement("span",{style:{color:"red"}},"*"),(0,w.sldComLanguage)("\u53d1\u653e\u603b\u91cf")),C.default.createElement("div",{className:"".concat(T.default.right)},s.publishNum,(0,w.sldComLanguage)("\u5f20"))),C.default.createElement("div",{className:"".concat(T.default.item," ").concat(N.default.flex_row_start_center)},C.default.createElement("div",{className:"".concat(T.default.left)},C.default.createElement("span",{style:{color:"red"}},"*"),(0,w.sldComLanguage)("\u9002\u7528\u5546\u54c1")),C.default.createElement("div",{className:"".concat(T.default.right)},1==c&&"".concat((0,w.sldComLanguage)("\u5168\u90e8\u5546\u54c1\u53ef\u7528")),2==c&&"".concat((0,w.sldComLanguage)("\u6307\u5b9a\u5546\u54c1\u53ef\u7528")))),2==c&&C.default.createElement("div",{className:"".concat(T.default.item," ").concat(N.default.flex_row_start_start)},C.default.createElement("div",{className:"".concat(T.default.left)},C.default.createElement("span",{style:{color:"red"}},"*"),(0,w.sldComLanguage)("\u5df2\u9009\u62e9\u5546\u54c1")),C.default.createElement("div",{className:"".concat(T.default.right)},C.default.createElement(L.Scrollbars,{autoHeight:!0,autoHeightMax:300},C.default.createElement(o.default,{rowKey:"goodsId",pagination:!1,columns:d,dataSource:u,size:"small"})))),void 0!=s.publishType&&1==s.publishType&&C.default.createElement("div",{className:"".concat(T.default.item," ").concat(N.default.flex_row_start_center)},C.default.createElement("div",{className:"".concat(T.default.left)},C.default.createElement("span",{style:{color:"red"}},"*"),(0,w.sldComLanguage)("\u6d3b\u52a8\u65f6\u95f4")),C.default.createElement("div",{className:"".concat(T.default.right)},s.publishStartTime," ~ ",s.publishEndTime)),C.default.createElement("div",{className:"".concat(T.default.item," ").concat(N.default.flex_row_start_center)},C.default.createElement("div",{className:"".concat(T.default.left)},C.default.createElement("span",{style:{color:"red"}},"*"),(0,w.sldComLanguage)("\u4f7f\u7528\u65f6\u95f4")),C.default.createElement("div",{className:"".concat(T.default.right)},1==l&&"".concat(s.effectiveStart," ~ ").concat(s.effectiveEnd),2==l&&"".concat((0,w.sldComLanguage)("\u9886\u5238\u5f53\u65e5\u8d77\u5929")).concat(s.cycle).concat((0,w.sldComLanguage)("\u5185\u53ef\u4ee5\u4f7f\u7528")))),C.default.createElement("div",{className:"".concat(T.default.item," ").concat(N.default.flex_row_start_center)},C.default.createElement("div",{className:"".concat(T.default.left)},C.default.createElement("span",{style:{color:"red"}},"*"),(0,w.sldComLanguage)("\u83b7\u53d6\u65b9\u5f0f")),C.default.createElement("div",{className:"".concat(T.default.right)},1==s.publishType&&"".concat((0,w.sldComLanguage)("\u514d\u8d39\u9886\u53d6")),3==s.publishType&&"".concat((0,w.sldComLanguage)("\u6d3b\u52a8\u8d60\u9001")))),C.default.createElement("div",{className:"".concat(T.default.item," ").concat(N.default.flex_row_start_center)},C.default.createElement("div",{className:"".concat(T.default.left)},C.default.createElement("span",{style:{color:"red"}},"*"),(0,w.sldComLanguage)("\u4f7f\u7528\u95e8\u69db")),C.default.createElement("div",{className:"".concat(T.default.right)},s.limitQuota?"".concat((0,w.sldComLanguage)("\u8ba2\u5355\u6ee1")).concat(s.limitQuota).concat((0,w.sldComLanguage)("\u5143\u65f6\u53ef\u4ee5\u4f7f\u7528\u6b64\u4f18\u60e0\u5238")):"".concat((0,w.sldComLanguage)("\u65e0\u4f7f\u7528\u95e8\u69db")))),C.default.createElement("div",{className:"".concat(T.default.item," ").concat(N.default.flex_row_start_center)},C.default.createElement("div",{className:"".concat(T.default.left)},C.default.createElement("span",{style:{color:"red"}},"*"),(0,w.sldComLanguage)("\u4f18\u60e0\u5185\u5bb9")),C.default.createElement("div",{className:"".concat(T.default.right)},1==a&&"".concat((0,w.sldComLanguage)("\u6ee1\u8db3\u4f7f\u7528\u95e8\u69db\u540e\u53ef\u4ee5\u51cf\u514d")).concat(s.publishValue).concat((0,w.sldComLanguage)("\u5143")),2==a&&"".concat((0,w.sldComLanguage)("\u6ee1\u8db3\u4f7f\u7528\u95e8\u69db\u540e\u53ef\u4ee5\u4eab\u53d7")).concat(s.publishValue).concat((0,w.sldComLanguage)("\u6298")),2==a&&s.discountLimitAmount&&"\uff0c".concat((0,w.sldComLanguage)("\u6700\u591a\u53ef\u4ee5\u4f18\u60e0")).concat(s.discountLimitAmount).concat((0,w.sldComLanguage)("\u5143")),3==a&&"".concat((0,w.sldComLanguage)("\u5728")).concat(s.randomMin,"\uff5e").concat(s.randomMax).concat((0,w.sldComLanguage)("\u5143\u8303\u56f4\u5185\u968f\u673a\u751f\u6210\uff0c\u603b\u5171\u4e0d\u8d85\u8fc7")).concat(s.publishAmount).concat((0,w.sldComLanguage)("\u5143"))))),void 0!=s.publishType&&1==s.publishType&&C.default.createElement(C.Fragment,null,(0,w.getSldEmptyH)(10),(0,w.sldCommonTitleByBg)("".concat((0,w.sldComLanguage)("\u9886\u53d6\u548c\u4f7f\u7528\u89c4\u5219"))),(0,w.getSldEmptyH)(10),C.default.createElement("div",{className:"".concat(T.default.full_acm_activity," ").concat(N.default.flex_column_start_start)},C.default.createElement("div",{className:"".concat(T.default.item," ").concat(N.default.flex_row_start_center)},C.default.createElement("div",{className:"".concat(T.default.left)},C.default.createElement("span",{style:{color:"red"}},"*"),(0,w.sldComLanguage)("\u6bcf\u4eba\u9650\u9886\u6b21\u6570")),C.default.createElement("div",{className:"".concat(T.default.right)},s.limitReceive?"".concat((0,w.sldComLanguage)("\u6bcf\u4f4d\u4f1a\u5458\u9650\u5236\u9886\u53d6")).concat(s.limitReceive).concat((0,w.sldComLanguage)("\u6b21")):"".concat((0,w.sldComLanguage)("\u4e0d\u9650\u5236\u6b21\u6570")))))),(0,w.getSldEmptyH)(20))))))}}]),t}(C.Component),_=y))||_)||_);t.default=b}}]);