(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[103],{mrrQ:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var o=n(a("W9HT")),s=n(a("eHn4")),c=n(a("p0pE")),d=n(a("2Taf")),i=n(a("vZ4D")),r=n(a("l4Ni")),u=n(a("ujKo")),m=n(a("MhPg"));a("y8nQ");var g,f,p,h,_=n(a("Vl3Y")),b=a("MuoO"),v=l(a("q1tI")),w=a("+n12"),L=n(a("hh8c")),S=n(a("JMh9")),y=n(a("CkN6")),C=n(a("Lv3o")),T=w.list_com_page_size_10,I=(g=(0,b.connect)(function(e){var t=e.promotion;return{promotion:t}}),f=_.default.create(),g(p=f((h=function(e){function t(e){var a;return(0,d.default)(this,t),a=(0,r.default)(this,(0,u.default)(t).call(this,e)),a.operate=function(e,t){var n=a.state,l=n.params,o=(n.query,a.props.dispatch),s={};s.spellTeamId=e.spellTeamId,a.setState({submiting:!0}),o({type:"promotion/spell_group_team_to_simulate_group",payload:s,callback:function(e){200==e.state?((0,w.sucTip)(e.msg),a.get_list(l)):(0,w.failTip)(e.msg),a.setState({submiting:!1})}})},a.get_list=function(e){a.setState({initLoading:!0});var t=a.props.dispatch,n=a.state.query;t({type:"promotion/get_spell_group_team_list",payload:(0,c.default)({},e,{spellId:n.spellId,goodsId:n.goodsId}),callback:function(t){a.setState({initLoading:!1}),200==t.state&&(0==t.data.list.length&&a.state.params.current>1?(e.current=e.current-1,a.get_list(e)):a.setState({data:t.data}))}})},a.handleSelectRows=function(e,t){a.setState({selectedRows:e,selectedRowKeys:t})},a.handleTablePagination=function(e,t,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"main",o=a.state.formValues;if("main"==l){var s=(0,w.sldHandlePaginationData)(e,t,n,o);T=s.pageSize,a.setState({params:s}),a.get_list(s)}},a.resizeTable=function(e,t,n,l){var o=(0,w.dragSldTableColumn)(e,t,l);a.setState((0,s.default)({},n,o))},a.search=function(e){var t=(0,c.default)({},e);for(var n in t)""==t[n]&&delete t[n];a.setState({formValues:t,params:{pageSize:T}}),a.get_list((0,c.default)({pageSize:T},t))},a.seaReset=function(){a.setState({formValues:{},params:{pageSize:T}}),a.get_list({pageSize:T})},a.state={query:e.location.query,search_con:"",initLoading:!1,submiting:!1,data:{},selectedRows:[],selectedRowKeys:[],title:"",type:"add",params:{pageSize:T},formValues:{},search_data:[{type:"select",label:"".concat((0,w.sldComLanguage)("\u62fc\u56e2\u72b6\u6001")),name:"state",placeholder:"".concat((0,w.sldComLanguage)("\u8bf7\u9009\u62e9\u62fc\u56e2\u72b6\u6001")),sel_data:[{key:"",name:"".concat((0,w.sldComLanguage)("\u5168\u90e8\u72b6\u6001"))},{key:"1",name:"".concat((0,w.sldComLanguage)("\u8fdb\u884c\u4e2d"))},{key:"2",name:"".concat((0,w.sldComLanguage)("\u62fc\u56e2\u6210\u529f"))},{key:"3",name:"".concat((0,w.sldComLanguage)("\u62fc\u56e2\u5931\u8d25"))}]}],columns:[{title:"",dataIndex:"spellTeamId",align:"center",width:55,render:function(e,t,n){return(0,w.getTableNum)(a.state.params,T,n)}},{title:"".concat((0,w.sldComLanguage)("\u5f00\u56e2\u65f6\u95f4")),dataIndex:"createTime",align:"center",width:150},{title:"".concat((0,w.sldComLanguage)("\u6210\u56e2\u7ed3\u675f\u65f6\u95f4")),dataIndex:"endTime",align:"center",width:150},{title:"".concat((0,w.sldComLanguage)("\u62fc\u56e2\u4eba\u6570")),dataIndex:"joinedNum",align:"center",width:100},{title:"".concat((0,w.sldComLanguage)("\u4f1a\u5458")),dataIndex:"endTime",align:"center",width:100,render:function(e,t){return v.default.createElement(v.Fragment,null,t.memberList.length>0?v.default.createElement("div",{className:"".concat(S.default.spell_group_team_wrap," ").concat(L.default.flex_row_center_center)},t.memberList.map(function(e,t){return v.default.createElement("div",{className:"".concat(S.default.member," ").concat(L.default.flex_column_start_center)},v.default.createElement("div",{className:S.default.avatar,style:{backgroundImage:"url("+e.memberAvatar+")"}}),v.default.createElement("span",{className:S.default.name,style:{background:0==t?"rgba(255, 106, 18, 1)":"rgba(255, 210, 183, 1)"},title:0==t?(0,w.sldComLanguage)("\u56e2\u957f\uff1a")+e.memberName:e.memberName},e.memberName))})):"--")}},{title:"".concat((0,w.sldComLanguage)("\u72b6\u6001")),dataIndex:"stateValue",align:"center",width:100},{title:"".concat((0,w.sldComLanguage)("\u64cd\u4f5c")),align:"center",width:100,render:function(e,t){return v.default.createElement(v.Fragment,null,1==t.isSimulateGroup?(0,w.sldPopConfirmDiy)("leftBottom","".concat((0,w.sldComLanguage)("\u786e\u5b9a\u6267\u884c\u6a21\u62df\u6210\u56e2\u64cd\u4f5c\u5417\uff1f")),function(){return a.operate(t,"spell")},"".concat((0,w.sldComLanguage)("\u786e\u5b9a")),"".concat((0,w.sldComLanguage)("\u53d6\u6d88")),(0,w.sldtbaleOpeBtnText)("".concat((0,w.sldComLanguage)("\u6a21\u62df\u6210\u56e2")),function(){return null})):"--")}}]},a}return(0,m.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.get_list({pageSize:T})}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedRows,n=t.columns,l=t.initLoading,s=t.data,c=t.search_data;return v.default.createElement("div",{className:L.default.common_page,style:{flex:1}},v.default.createElement("div",{className:L.default.flex_com_space_between},(0,w.sldLlineRtextAddGoods)("#FA6F1E","".concat((0,w.sldComLanguage)("\u6d3b\u52a8\u56e2\u961f"))),(0,w.sldIconBtnBg)(function(){return e.props.history.goBack()},"fanhui","".concat((0,w.sldComLanguage)("\u8fd4\u56de\u4e0a\u7ea7\u9875\u9762")),"#fff",7,0,15,15,5)),v.default.createElement("div",{className:L.default.tableListForm},v.default.createElement(C.default,{search_data:c,seaSubmit:function(t){return e.search(t)},seaReset:function(){return e.seaReset()}})),v.default.createElement(o.default,{spinning:l},v.default.createElement(y.default,{totalHeight:document.body.clientHeight-155-15,selectedRows:a,data:s,rowKey:"spellTeamId",isCheck:!1,columns:n,onSelectRow:this.handleSelectRows,onChange:function(t,a,n){return e.handleTablePagination(t,a,n,"main")},onSldHandleSeleRow:this.onSldHandleSeleRow,resizeTable:function(t,a){return e.resizeTable(t,a,"columns",n)},isColumnResize:!0})))}}]),t}(v.Component),p=h))||p)||p);t.default=I}}]);