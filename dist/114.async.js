(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[114],{dTII:function(e,a,t){"use strict";var n=t("g09b"),s=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("T2oS");var l=n(t("W9HT")),o=n(t("eHn4")),d=n(t("p0pE")),c=n(t("2Taf")),i=n(t("vZ4D")),r=n(t("l4Ni")),u=n(t("ujKo")),g=n(t("MhPg"));t("y8nQ");var m,f,_,p,h=n(t("Vl3Y")),b=t("MuoO"),C=s(t("q1tI")),w=t("+n12"),L=n(t("hh8c")),S=n(t("CkN6")),y=n(t("Lv3o")),v=n(t("usdK")),k=w.list_com_page_size_10,T=(m=(0,b.connect)(function(e){var a=e.store;return{store:a}}),f=h.default.create(),m(_=f((p=function(e){function a(e){var t;return(0,c.default)(this,a),t=(0,r.default)(this,(0,u.default)(a).call(this,e)),t.goNextPage=function(e,a){var n=JSON.parse(e.msgLinkInfo.replace(/&quot;/g,'"')),s=n.afsSn,l=n.type,o=n.orderSn,d="",c=t.state.data,i=t.props.dispatch,r={receiveIds:c["list"][a].receiveId};i({type:"store/set_msg_readed",payload:r,callback:function(e){if(200==e.state){switch(l){case"refund_news":d="/order/service_refund_lists_to_detail?afsSn="+s;break;case"return_news":d="/order/service_return_lists_to_detail?afsSn="+s;break;case"goods_violation_news":d="/goods/goods_list";break;case"goods_news":d="/goods/goods_list";break;case"goods_audit_news":d="/goods/goods_check_list";break;case"order_news":d="/order/order_lists_to_detail?orderSn="+o;break;case"bill_news":d="/bill/lists_to_detail?id="+n.billId;break}v.default.push(d)}else(0,w.failTip)(e.msg)}})},t.get_list=function(e){t.setState({initLoading:!0});var a=t.props.dispatch;a({type:"store/get_msg_list",payload:(0,d.default)({},e),callback:function(a){t.setState({initLoading:!1}),200==a.state&&((null==a.data.list||0==a.data.list.length)&&t.state.params.current>1?(e.current=e.current-1,t.get_list(e)):t.setState({data:a.data}))}})},t.operate=function(e,a){t.setState({submiting:!0});var n=t.state.params,s=t.props.dispatch,l={},o="";"del"==a?(o="store/del_msg",l=e):"read"==a&&(o="store/set_msg_readed",l=e),s({type:o,payload:l,callback:function(e){t.setState({submiting:!1}),200==e.state?((0,w.sucTip)(e.msg),t.get_list(n),t.setState({selectedRows:[],selectedRowKeys:[],modalVisible:!1})):(0,w.failTip)(e.msg)}})},t.handleSelectRows=function(e,a){t.setState({selectedRows:e,selectedRowKeys:a})},t.handleTablePagination=function(e,a,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"main",l=t.state.formValues;if("main"==s){var o=(0,w.sldHandlePaginationData)(e,a,n,l);k=o.pageSize,t.setState({params:o}),t.get_list(o)}},t.resizeTable=function(e,a,n,s){var l=(0,w.dragSldTableColumn)(e,a,s);t.setState((0,o.default)({},n,l))},t.search=function(e){var a=(0,d.default)({},e);for(var n in a.search_create_time&&(a.startTime=a.search_create_time[0]?a.search_create_time[0].format(w.dateFormat)+" 00:00:00":"",a.endTime=a.search_create_time[1]?a.search_create_time[1].format(w.dateFormat)+" 23:59:59":"",a.search_create_time=""),a)""==a[n]&&delete a[n];t.setState({formValues:a,params:{pageSize:k}}),t.get_list((0,d.default)({pageSize:k},a))},t.seaReset=function(){t.setState({formValues:{},params:{pageSize:k}}),t.get_list({pageSize:k})},t.sldHandleCancle=function(){t.setState({modalVisible:!1})},t.state={modal_width:700,modalVisibleDetail:!1,initLoading:!1,submiting:!1,show_foot:!1,modalVisible:!1,data:{},selectedRows:[],selectedRowKeys:[],title:"".concat((0,w.sldComLanguage)("\u5546\u54c1\u89c4\u683c")),type:"add",params:{pageSize:k},search_data:[{type:"select",label:"".concat((0,w.sldComLanguage)("\u901a\u77e5\u7c7b\u578b")),name:"tplType",placeholder:"".concat((0,w.sldComLanguage)("\u8bf7\u9009\u62e9\u901a\u77e5\u7c7b\u578b")),sel_data:[{key:"",name:"\u5168\u90e8"},{key:"goods_news",name:"".concat((0,w.sldComLanguage)("\u5546\u54c1\u6d88\u606f"))},{key:"seller_order_news",name:"".concat((0,w.sldComLanguage)("\u8ba2\u5355\u6d88\u606f"))},{key:"seller_after_sale_news",name:"".concat((0,w.sldComLanguage)("\u552e\u540e\u6d88\u606f"))},{key:"bill_news",name:"".concat((0,w.sldComLanguage)("\u7ed3\u7b97\u6d88\u606f"))}]},{type:"select",label:"".concat((0,w.sldComLanguage)("\u901a\u77e5\u72b6\u6001")),name:"msgState",placeholder:"".concat((0,w.sldComLanguage)("\u8bf7\u9009\u62e9\u901a\u77e5\u72b6\u6001")),sel_data:[{key:"",name:"".concat((0,w.sldComLanguage)("\u5168\u90e8"))},{key:"1",name:"".concat((0,w.sldComLanguage)("\u5df2\u8bfb"))},{key:"0",name:"".concat((0,w.sldComLanguage)("\u672a\u8bfb"))}]},{type:"rangepicker",label:"".concat((0,w.sldComLanguage)("\u901a\u77e5\u65f6\u95f4")),name:"search_create_time",placeholder1:"".concat((0,w.sldComLanguage)("\u5f00\u59cb\u65f6\u95f4")),placeholder2:"".concat((0,w.sldComLanguage)("\u7ed3\u675f\u65f6\u95f4"))}],formValues:{},operateData:[],columns:[{title:" ",align:"center",dataIndex:"receiveId",width:30,render:function(e,a,n){return(0,w.getTableNum)(t.state.params,k,n)}},{title:"".concat((0,w.sldComLanguage)("\u901a\u77e5\u5185\u5bb9")),dataIndex:"msgContent",align:"center",width:200},{title:"".concat((0,w.sldComLanguage)("\u901a\u77e5\u7c7b\u578b")),dataIndex:"tplTypeName",align:"center",width:100},{title:"".concat((0,w.sldComLanguage)("\u901a\u77e5\u72b6\u6001")),dataIndex:"msgStateValue",align:"center",width:100},{title:"".concat((0,w.sldComLanguage)("\u901a\u77e5\u65f6\u95f4")),dataIndex:"msgSendTime",align:"center",width:150},{title:"".concat((0,w.sldComLanguage)("\u64cd\u4f5c")),align:"center",width:100,render:function(e,a,n){return C.default.createElement(C.Fragment,null,(0,w.sldtbaleOpeBtnText)("".concat((0,w.sldComLanguage)("\u67e5\u770b")),function(){return t.goNextPage(a,n)}))}}]},t}return(0,g.default)(a,e),(0,i.default)(a,[{key:"componentDidMount",value:function(){this.get_list({pageSize:k})}},{key:"render",value:function(){var e=this,a=this.state,t=a.selectedRows,n=a.selectedRowKeys,s=a.search_data,o=a.columns,d=a.initLoading,c=a.data;return C.default.createElement("div",{className:L.default.common_page,style:{flex:1}},(0,w.sldLlineRtextAddGoodsAddMargin)("#69A2F2","".concat((0,w.sldComLanguage)("\u6d88\u606f\u5217\u8868")),0,0,10),C.default.createElement("div",{className:L.default.tableListForm},C.default.createElement(y.default,{search_data:s,seaSubmit:function(a){return e.search(a)},seaReset:function(){return e.seaReset()}})),C.default.createElement("div",{className:L.default.operate_bg,style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},C.default.createElement("div",{style:{display:"flex",flexDirection:"row"}},0==n.length?(0,w.sldIconBtn)(function(){(0,w.failTip)("".concat((0,w.sldComLanguage)("\u8bf7\u5148\u9009\u4e2d\u6570\u636e")))},"".concat((0,w.sldComLanguage)("\u6279\u91cf\u5220\u9664")),7,0,15,15,3,"shenhejujue","#fa0920"):(0,w.sldPopConfirm)("leftBottom","".concat((0,w.sldComLanguage)("\u786e\u8ba4\u5220\u9664\u9009\u4e2d\u7684\u6d88\u606f\u5417\uff1f")),function(){return e.operate({receiveIds:n.join(",")},"del")},"".concat((0,w.sldComLanguage)("\u786e\u5b9a")),"".concat((0,w.sldComLanguage)("\u53d6\u6d88")),(0,w.sldIconBtn)(null,"".concat((0,w.sldComLanguage)("\u6279\u91cf\u5220\u9664")),7,0,15,15,3,"shenhejujue","#fa0920"),0,0,"#fa0920"),0==n.length?(0,w.sldIconBtn)(function(){(0,w.failTip)("".concat((0,w.sldComLanguage)("\u8bf7\u5148\u9009\u4e2d\u6570\u636e")))},"".concat((0,w.sldComLanguage)("\u6279\u91cf\u6807\u4e3a\u5df2\u8bfb")),7,0,19,19,3,"shenhetongguo","#0fb39a"):(0,w.sldPopConfirm)("leftBottom","".concat((0,w.sldComLanguage)("\u786e\u8ba4\u5c06\u9009\u4e2d\u7684\u6d88\u606f\u6807\u4e3a\u5df2\u8bfb\u5417\uff1f")),function(){return e.operate({receiveIds:n.join(",")},"read")},"".concat((0,w.sldComLanguage)("\u786e\u5b9a")),"".concat((0,w.sldComLanguage)("\u53d6\u6d88")),(0,w.sldIconBtn)(null,"".concat((0,w.sldComLanguage)("\u6279\u91cf\u6807\u4e3a\u5df2\u8bfb")),7,0,19,19,3,"shenhetongguo","#0fb39a"),0,0,"#0fb39a"))),C.default.createElement(l.default,{spinning:d},C.default.createElement(S.default,{totalHeight:document.body.clientHeight-200,bordered:!1,selectedRows:t,data:c,rowKey:"receiveId",isCheck:!0,columns:o,onSelectRow:this.handleSelectRows,onChange:function(a,t,n){return e.handleTablePagination(a,t,n,"main")},onSldHandleSeleRow:this.onSldHandleSeleRow,resizeTable:function(a,t){return e.resizeTable(a,t,"columns",o)},isColumnResize:!0})))}}]),a}(C.Component),_=p))||_)||_);a.default=T}}]);